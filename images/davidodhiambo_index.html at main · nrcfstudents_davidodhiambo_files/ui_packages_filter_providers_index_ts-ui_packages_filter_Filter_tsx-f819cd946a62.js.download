"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["ui_packages_filter_providers_index_ts-ui_packages_filter_Filter_tsx"],{28972:(e,t,i)=>{i.d(t,{Fy:()=>s,a7:()=>a,dQ:()=>l});var r=i(31911);let a={filterDelimiter:":",valueDelimiter:",",variant:"full"},l={priority:r.a6,filterTypes:{inclusive:!0,exclusive:!0,valueless:!0,multiKey:!0,multiValue:!0},support:{status:r.b9.Supported}},s={aliasMatching:!1,disableAdvancedTextFilter:!1}},39168:(e,t,i)=>{i.d(t,{_i:()=>n,sS:()=>u,VT:()=>d,d6:()=>v,Ez:()=>y,$c:()=>c,OV:()=>p,yV:()=>o});var r=i(59857),a=i(31911);let l=[{value:"@today",displayName:"Today",priority:1,icon:r.ArrowSwitchIcon,iconColor:"var(--fgColor-done, var(--color-done-fg))"},{value:"@today-1d",displayName:"Yesterday",priority:2,icon:r.ArrowSwitchIcon,iconColor:"var(--fgColor-done, var(--color-done-fg))"},{value:">@today-1w",displayName:"Past 7 days",priority:3,icon:r.ArrowSwitchIcon,iconColor:"var(--fgColor-done, var(--color-done-fg))"},{value:">@today-30d",displayName:"Past 30 days",priority:4,icon:r.ArrowSwitchIcon,iconColor:"var(--fgColor-done, var(--color-done-fg))"},{value:">@today-1y",displayName:"Past year",priority:5,icon:r.ArrowSwitchIcon,iconColor:"var(--fgColor-done, var(--color-done-fg))"},{value:()=>{let e=new Date;return`${e.getFullYear()}-${`0${e.getMonth()+1}`.slice(-2)}-${`0${e.getDate()}`.slice(-2)}`},displayName:new Date().toLocaleDateString("en-us",{year:"numeric",month:"long",day:"numeric"}),priority:6,icon:r.CalendarIcon}],s=[{value:"<10",displayName:"Less than 10",priority:1},{value:">10",displayName:"More than 10",priority:2},{value:"10..100",displayName:"Between 10 and 100",priority:3},{value:"100",displayName:"100",priority:4}],n={archived:{displayName:"Archived",key:"archived",priority:a.a6,icon:r.ArchiveIcon,description:"Specify archived or non-archived items only"},base:{displayName:"Base",key:"base",priority:a.a6,icon:r.GitBranchIcon,description:"Pull Request base branch"},closed:{displayName:"Closed date",key:"closed",priority:a.a6,icon:r.CalendarIcon,description:"Closing date"},comments:{displayName:"Comment count",key:"comments",priority:a.a6,icon:r.CommentIcon,description:"Item comment count"},created:{displayName:"Creation date",key:"created",priority:a.a6,icon:r.CalendarIcon,description:"Creation date"},draft:{displayName:"Draft",key:"draft",priority:a.a6,icon:r.IssueDraftIcon,description:"Search for draft items"},head:{displayName:"Head",key:"head",priority:a.a6,icon:r.GitBranchIcon,description:"Head branch commit sha"},inBody:{displayName:"In body",key:"in-body",priority:a.a6,icon:r.NoteIcon,description:"Search for text only inside the body of an item"},inComments:{displayName:"In comments",key:"in-comments",priority:a.a6,icon:r.CommentDiscussionIcon,description:"Search for text only inside the comments of an item"},interactions:{displayName:"Interactions count",key:"interactions",priority:a.a6,icon:r.CommentDiscussionIcon,description:"Interaction count"},inTitle:{displayName:"In title",key:"in-title",priority:a.a6,icon:r.TypographyIcon,description:"Search for text only inside the title of an item"},is:{displayName:"Is",key:"is",icon:r.AppsIcon,description:'Filter only "issues", "pulls", "open", "closed", or "draft"',priority:3},language:{displayName:"Code language",key:"language",priority:a.a6,icon:r.CodeIcon,description:"Code language"},linked:{displayName:"Linked",key:"linked",icon:r.GitPullRequestIcon,description:"Items linked to an issue or pull request",priority:a.a6},memexState:{displayName:"State",key:"state",priority:3,icon:r.IssueDraftIcon,description:"Look for open, closed, or draft issues"},merged:{displayName:"Merge date",key:"merged",priority:a.a6,icon:r.CalendarIcon,description:"Merge date"},milestone:{displayName:"Milestone",key:"milestone",priority:a.a6,icon:r.MilestoneIcon,description:"Milestone"},no:{key:"no",displayName:"No",description:"Filter by items without a specific metadata value",priority:1,icon:r.NoEntryIcon},prState:{displayName:"State",key:"state",priority:3,icon:r.IssueDraftIcon,description:"State of Pull Requests"},reactions:{displayName:"Reaction count",key:"reactions",priority:a.a6,icon:r.SmileyIcon,description:"Reactions count"},reason:{displayName:"Closed reason",key:"reason",priority:a.a6,icon:r.MentionIcon,description:"Filter by item closed reason"},review:{displayName:"Review state",key:"review",priority:a.a6,icon:r.GitPullRequestIcon,description:"Specify a review state"},sha:{displayName:"Commit SHA",key:"sha",priority:a.a6,icon:r.FileIcon,description:"Commit SHA"},sort:{displayName:"Sort",key:"sort",priority:a.a6,icon:r.SortDescIcon,description:"Sort results"},state:{displayName:"State",key:"state",priority:3,icon:r.IssueDraftIcon,description:"Look for open / closed items"},status:{displayName:"Status",key:"status",priority:a.a6,icon:r.IssueDraftIcon,description:"Commit status: pending | success | failure"},team:{displayName:"Team",key:"team",priority:a.a6,icon:r.PeopleIcon,description:"Team name"},teamReviewRequested:{displayName:"Team review requested",key:"team-review-requested",priority:a.a6,icon:r.PeopleIcon,description:"Review requested from team"},type:{displayName:"Type",key:"type",priority:a.a6,icon:r.IssueOpenedIcon,description:"Specify the type of issue to search for"},updated:{displayName:"Update date",key:"updated",priority:a.a6,icon:r.CalendarIcon,description:"Updated date"},repo:{displayName:"Repository",key:"repo",priority:1,icon:r.RepoIcon,description:"Filter by repository"},org:{displayName:"Organization",key:"org",aliases:["organization"],priority:2,icon:r.OrganizationIcon,description:"Filter by organization"},label:{displayName:"Label",key:"label",priority:3,icon:r.TagIcon,description:"Filter by label"},project:{displayName:"Project",key:"project",priority:3,icon:r.TableIcon,description:"Filter by project"}},o={assignee:{displayName:"Assignee",key:"assignee",icon:r.PersonIcon,description:"The assignee of the item",priority:3},author:{displayName:"Author",key:"author",icon:r.PersonIcon,description:"The author of the item",priority:3},commenter:{displayName:"Commenter",key:"commenter",icon:r.PersonIcon,description:"Items commented on by the user",priority:a.a6},involves:{displayName:"Involves",key:"involves",icon:r.PersonIcon,description:"The user involved in the item",priority:a.a6},mentions:{displayName:"Mentions",key:"mentions",icon:r.MentionIcon,description:"The user mentioned in the item",priority:a.a6},reviewedBy:{displayName:"Reviewed by",key:"reviewed-by",icon:r.PersonIcon,description:"Items reviewed by the user",priority:a.a6},reviewRequested:{displayName:"Review requested",key:"review-requested",icon:r.PersonIcon,description:"Items with review requested for the user",priority:a.a6},user:{displayName:"User",key:"user",icon:r.PersonIcon,description:"Items in repositories owned by the user",priority:a.a6},userReviewRequested:{displayName:"User review requested",key:"user-review-requested",icon:r.MentionIcon,description:"Items with review requested for the user explicitly",priority:a.a6}};Object.values(o);let u={archived:[{value:"true",displayName:"True",priority:1,aliases:["yes"]},{value:"false",displayName:"False",priority:2,aliases:["no"]}],closed:l,comments:s,created:l,draft:[{value:"true",displayName:"True",priority:1,aliases:["yes"]},{value:"false",displayName:"False",priority:2,aliases:["no"]}],interactions:s,is:[{value:"issue",displayName:"Issue",priority:1,icon:r.IssueOpenedIcon},{value:"pr",displayName:"Pull Request",priority:2,icon:r.GitPullRequestIcon}],linked:[{value:"issue",displayName:"Issue",priority:1,icon:r.IssueOpenedIcon},{value:"pr",displayName:"Pull Request",priority:2,icon:r.GitPullRequestIcon}],sort:[],memexState:[{value:"open",displayName:"Open",priority:1,icon:r.IssueOpenedIcon,iconColor:"var(--fgColor-success, var(--color-success-fg))"},{value:"closed",displayName:"Closed",priority:2,icon:r.IssueClosedIcon,iconColor:"var(--fgColor-done, var(--color-done-fg))"},{value:"draft",displayName:"Draft",priority:3,icon:r.IssueDraftIcon,iconColor:"var(-fgColor-muted, var(--color-neutral-emphasis))"}],merged:l,prState:[{value:"open",displayName:"Open",icon:r.GitPullRequestIcon,priority:1,iconColor:"var(--fgColor-open, var(--color-open-fg))"},{value:"merged",displayName:"Merged",icon:r.GitMergeIcon,priority:2,iconColor:"var(--fgColor-done, var(--color-done-fg))"},{value:"draft",displayName:"Draft",icon:r.GitPullRequestDraftIcon,priority:3,iconColor:"var(--fgColor-muted, var(--color-fg-muted))"},{value:"closed",displayName:"Closed",icon:r.GitPullRequestClosedIcon,priority:4,iconColor:"var(--fgColor-closed, var(--color-closed-fg))"}],reactions:s,reason:[{value:"completed",displayName:"Completed",priority:1,icon:r.CheckCircleIcon,iconColor:"var(--fgColor-done, var(--color-done-fg))"},{value:"not-planned",displayName:"Not planned",priority:2,icon:r.SkipIcon,iconColor:"var(-fgColor-muted, var(--color-neutral-emphasis))"}],review:[{value:"none",displayName:"No reviews",priority:1},{value:"required",displayName:"Review required",priority:2},{value:"approved",displayName:"Approved",priority:3},{value:"changes_requested",displayName:"Changes requested",priority:4}],state:[{value:"open",displayName:"Open",priority:1,icon:r.IssueOpenedIcon,iconColor:"var(--fgColor-success, var(--color-success-fg))"},{value:"closed",displayName:"Closed",priority:2,icon:r.IssueClosedIcon,iconColor:"var(--fgColor-done, var(--color-done-fg))"}],status:[{value:"pending",displayName:"Pending",priority:1,icon:r.DotFillIcon,iconColor:"var(--fgColor-attention, var(--color-attention-fg))"},{value:"success",displayName:"Success",priority:2,icon:r.CheckCircleFillIcon,iconColor:"var(--fgColor-success, var(--color-success-fg))"},{value:"failure",displayName:"Failure",priority:3,icon:r.XCircleFillIcon,iconColor:"var(--fgColor-danger, var(--color-danger-fg))"},{value:"queued",displayName:"Queued",priority:4,icon:r.IssueOpenedIcon,iconColor:"var(--fgColor-muted, var(--color-fg-subtle))"},{value:"waiting",displayName:"Waiting",priority:4,icon:r.ClockIcon,iconColor:"var(--fgColor-muted, var(--color-fg-subtle))"},{value:"cancelled",displayName:"Cancelled",priority:4,icon:r.StopIcon,iconColor:"var(--fgColor-muted, var(--color-fg-subtle))"},{value:"skipped",displayName:"Skipped",priority:4,icon:r.SkipIcon,iconColor:"var(--fgColor-muted, var(--color-fg-subtle))"}],type:[{value:"issue",displayName:"Issue",priority:1,icon:r.IssueOpenedIcon},{value:"pr",displayName:"Pull Request",priority:2,icon:r.GitPullRequestIcon}],updated:l};n.team,n.teamReviewRequested;let d={action:{value:"action",displayName:"Action",priority:3,icon:r.PlayIcon},closed:{value:"closed",displayName:"Closed",priority:2,icon:r.IssueClosedIcon},codespace:{value:"codespace",displayName:"Codespace",priority:3,icon:r.CodespacesIcon},discussion:{value:"discussion",displayName:"Discussion",priority:4,icon:r.CommentDiscussionIcon},draft:{value:"draft",displayName:"Draft",priority:3,icon:r.GitPullRequestDraftIcon},issue:{value:"issue",displayName:"Issue",priority:1,icon:r.IssueOpenedIcon},locked:{value:"locked",displayName:"Locked",priority:4,icon:r.LockIcon},merged:{value:"merged",displayName:"Merged",priority:3,icon:r.GitMergeIcon},open:{value:"open",displayName:"Open",priority:1,icon:r.IssueOpenedIcon},pr:{value:"pr",displayName:"Pull Request",priority:1,icon:r.GitPullRequestIcon},repository:{value:"repository",displayName:"Repository",priority:2,icon:r.RepoIcon},unlocked:{value:"unlocked",displayName:"Unlocked",priority:4,icon:r.UnlockIcon}},c={"created-desc":{value:"created-desc",displayName:"Newest",priority:0,aliases:["created"]},"created-asc":{value:"created-asc",displayName:"Oldest",priority:1},"updated-desc":{value:"updated-desc",displayName:"Recently updated",priority:2,aliases:["updated"]},"updated-asc":{value:"updated-asc",displayName:"Least recently updated",priority:3},"comments-desc":{value:"comments-desc",displayName:"Most commented",priority:4,aliases:["interactions","interactions-desc","comments"]},"comments-asc":{value:"comments-asc",displayName:"Least commented",priority:5,aliases:["interactions-asc"]},"reactions-desc":{value:"reactions-desc",displayName:"Most reactions",priority:6,aliases:["reactions"]},"reactions-asc":{value:"reactions-asc",displayName:"Least reactions",priority:7},"committer-date-desc":{value:"committer-date-desc",displayName:"Most recent committer date",priority:8,aliases:["committer-date"]},"committer-date-asc":{value:"committer-date-asc",displayName:"Least recent committer date",priority:9},"author-date-desc":{value:"author-date-desc",displayName:"Most recent author date",priority:9,aliases:["author-date"]},"author-date-asc":{value:"author-date-asc",displayName:"Least recent author date",priority:9}},p=[{value:"reactions-+1",displayName:"Most thumbs up (\u{1F44D}) reactions",priority:10,aliases:["reactions-+1-desc"]},{value:"reactions--1",displayName:"Most thumbs down (\u{1F44E}) reactions",priority:10,aliases:["reactions--1-desc"]},{value:"reactions-smile",displayName:"Most laugh (\u{1F604}) reactions",priority:10,aliases:["reactions-smile-desc"]},{value:"reactions-thinking_face",displayName:"Most confused (\u{1F615}) reactions",priority:10,aliases:["reactions-thinking_face-desc"]},{value:"reactions-tada",displayName:"Most hooray (\u{1F389}) reactions",priority:10,aliases:["reactions-tada-desc"]},{value:"reactions-heart",displayName:"Most heart (\u2764\uFE0F) reactions",priority:10,aliases:["reactions-heart-desc"]},{value:"reactions-eyes",displayName:"Most eyes (\u{1F440}) reactions",priority:10,aliases:["reactions-eyes-desc"]},{value:"reactions-rocket",displayName:"Most rocket (\u{1F680}) reactions",priority:10,aliases:["reactions-rocket-desc"]}],v=["AND","OR"],y={issue:{value:"issue",displayName:"Issue",priority:1,icon:r.IssueOpenedIcon},pr:{value:"pr",displayName:"Pull Request",priority:2,icon:r.GitPullRequestIcon}}},55782:(e,t,i)=>{i.d(t,{D:()=>r});let r={filterInvalid:e=>`Filter contains ${e} issue${1===e?"":"s"}:`,filterBlockInvalid:e=>`${e} is invalid`,filterProviderNotSupported:e=>`Filter '${e}' not supported`,filterProviderDeprecated:e=>`Filter '${e}' is deprecated and will be removed in the future`,filterValueEmpty:e=>`Empty value for <pre>${e}</pre>`,filterMultiValueFalse:e=>`Only one value allowed for <pre>${e}</pre>`,filterInvalidValue:(e,t)=>`Invalid value <pre>${t}</pre> for <pre>${e}</pre>`,unbalancedQuotations:"Unbalanced quotation marks",unbalancedParentheses:"Unbalanced parentheses",advancedFilterDialogCloseConfirmation:{title:"Discard changes?",content:"You have unsaved changes. Are you sure you want to discard them?",cancelButtonContent:"Keep editing",confirmButtonContent:"Close and discard"},exclude:"Exclude",dividerValue:"%%DIVIDER%%"}},10162:(e,t,i)=>{i.d(t,{Ge:()=>a.Ge,Pt:()=>s.Pt,U2:()=>l.U2,g0:()=>r.g0});var r=i(19402),a=i(34532),l=i(21468),s=i(73476)},58735:(e,t,i)=>{i.d(t,{N:()=>FilterQuery});var r=i(93800),a=i(91385),l=i(28972),s=i(55782),n=i(31911),o=i(37932);function u(e,t){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object")}function d(e,t,i){if(!t.has(e))throw TypeError("attempted to "+i+" private field on non-instance");return t.get(e)}function c(e,t){var i=d(e,t,"get");return i.get?i.get.call(e):i.value}function p(e,t,i){u(e,t),t.set(e,i)}function v(e,t,i){var r=d(e,t,"set");return!function(e,t,i){if(t.set)t.set.call(e,i);else{if(!t.writable)throw TypeError("attempted to set read only private field");t.value=i}}(e,r,i),i}var y=new WeakMap,h=new WeakMap,f=new WeakMap,m=new WeakMap,g=new WeakMap,x=new WeakMap,b=new WeakSet;let FilterQuery=class FilterQuery{get activeBlock(){return c(this,y)}get activeBlockId(){return c(this,y)?.id??-1}get blocks(){return c(this,h)}clearActiveBlock(){v(this,y,void 0)}get context(){let e=c(this,f)??{};if(!c(this,f)?.repo){let t=c(this,h).filter(e=>(0,o.aK)(e)&&"repo"===e.provider.key).map(e=>e.value.values.map(e=>!1!==e.valid?(0,o.I8)(e.value)??"":"")).flat();if(t.length>0&&(e.repo=t.join(",")),!c(this,f)?.org){let t=c(this,h).filter(e=>(0,o.aK)(e)&&"org"===e.provider.key).map(e=>e.value.values.map(e=>!1!==e.valid?(0,o.I8)(e.value)??"":"")).flat();t.length>0&&(e.org=t.join(","))}}return e}get contextURLParams(){return new URLSearchParams(this.context)}get errors(){return c(this,m)?Array.from(c(this,m)):[]}getErrors(e=!1){return e?[...c(this,m),...c(this,g),...this.parsingErrors]:c(this,m)}get filterCount(){if(!this.isValidated||!(0,o.Ed)(this))return this.cachedFilterCount;let e=this.blocks.filter(e=>(0,o.aK)(e)&&e.value.values.some(e=>e.valid)).length;return this.cachedFilterCount=e,e}get instanceContext(){return{cachedFilterCount:this.cachedFilterCount,staticContext:c(this,f)}}get raw(){return c(this,x)}get staticContext(){return c(this,f)}set staticContext(e){v(this,f,e)}async getSuggestions(e,t,i){let l=this.activeBlock,u=[];if((l||""!==this.raw)&&l?.type!==n._B.Space){if(l?.type===n._B.Text&&"-"===l.raw){let e=Object.values(t).filter(e=>e.options.filterTypes.exclusive&&e.options.support.status===n.b9.Supported).filter(e=>e.priority<=n.$D).sort((e,t)=>e.priority-t.priority).map(e=>({type:n.ak.Key,displayName:e.displayName,ariaLabel:`${e.displayName}, Filter${e.description?`, ${e.description}`:""}`,priority:e.priority,icon:e.icon,value:`-${e.key}`}));u=[{id:"exclude-providers",title:s.D.exclude,suggestions:e}]}else if(l?.type===n._B.Text){let a=[],s=(0,o.ON)(l)?l:null,d=s&&e-s.startIndex<=s.raw.indexOf(i.filterDelimiter)?s.raw.substring(0,e-s.startIndex):l.raw;Object.values(t).map(e=>{if((e.key.startsWith(d)||e.displayName&&e.displayName.startsWith(d)||i.aliasMatching&&e.aliases?.some(e=>e.startsWith(d))||e.options.filterTypes.exclusive&&(`-${e.key}`.startsWith(d)||i.aliasMatching&&e.aliases?.some(e=>`-${e}`.startsWith(d))))&&(!1!==e.options.filterTypes.multiKey||this.blocks.filter(t=>(0,o.aK)(t)&&t.key.value===e.key).length<1)&&e.options.support.status===n.b9.Supported){let t=e.key;l.raw.startsWith("-")&&e.options.filterTypes.exclusive&&(t=`-${e.key}`),a.push({type:n.ak.Key,displayName:e.displayName,ariaLabel:`${e.displayName}, Filter${e.description?`, ${e.description}`:""}`,priority:e.priority-(0,r.dt)(d,e.key),icon:e.icon,value:t})}}),a.sort((e,t)=>e.priority-t.priority),u=[{id:"providers-suggestion-group",suggestions:a}];let c=[];i.groupAndKeywordSupport&&("and".startsWith(d.toLocaleLowerCase())&&c.push((0,o.PU)()),"or".startsWith(d.toLocaleLowerCase())&&c.push((0,o.j1)())),u.push({id:"utility-suggestion-group",suggestions:c})}else if(l&&(0,o.aK)(l)){let s=[],d=(0,o.Xz)(l.key.value);if((0,o.v7)(l)){let[c,p]=(0,o.t4)(l,e);if("key"===c){let e=[];Object.values(t).map(t=>{((0,a.qA)(p.value,t.key)||t.options.filterTypes.exclusive&&(0,a.qA)(p.value,`-${t.key}`))&&(!1!==t.options.filterTypes.multiKey||this.blocks.filter(e=>(0,o.aK)(e)&&e.key.value===t.key).length<1)&&e.push({type:n.ak.Key,displayName:t.displayName,ariaLabel:`${t.displayName}, Filter${t.description?`, ${t.description}`:""}`,priority:t.priority-(0,r.dt)(p.value,t.key),icon:t.icon,value:t.key})}),e.sort((e,t)=>e.priority-t.priority),u=[{id:"providers-suggestion-group",suggestions:e}]}else if("value"===c){let r=t[d]??(i.aliasMatching?Object.values(t).find(e=>e.aliases?.includes(d)):null),a=await r?.getSuggestions(this,l,i,e);s=a?.filter(e=>0>l.value.values.findIndex(t=>o.M5(t.value)===e.value&&!t.hasCaret)).sort((e,t)=>e.priority-t.priority)??[]}}u=[{id:"values-suggestion-group",suggestions:s}]}}else{u=[{id:"providers-suggestion-group",suggestions:Object.values(t).filter(e=>(e.options.filterTypes?.multiKey!==!1||e.options.filterTypes?.multiKey===!1&&this.blocks.filter(t=>(0,o.aK)(t)&&t.key.value===e.key).length<1)&&e.options.support.status===n.b9.Supported).filter(e=>e.priority<=n.$D).sort((e,t)=>e.priority-t.priority).map(e=>({type:n.ak.Key,displayName:e.displayName,ariaLabel:`${e.displayName}, Filter${e.description?`, ${e.description}`:""}`,priority:e.priority,icon:e.icon,value:e.key}))}];let e=[];i.groupAndKeywordSupport&&(e.push((0,o.PU)()),e.push((0,o.j1)())),Object.values(t).filter(e=>!0===e.options.filterTypes.exclusive&&(e.options.filterTypes?.multiKey!==!1||e.options.filterTypes?.multiKey===!1&&this.blocks.filter(t=>(0,o.aK)(t)&&t.key.value===e.key).length<1)).length>0&&e.push((0,o.m1)()),u.push({id:"utility-suggestion-group",suggestions:e})}return u}constructor(e="",t=[],i,r,a,s=!1){!function(e,t){u(e,t),t.add(e)}(this,b),p(this,y,{writable:!0,value:void 0}),p(this,h,{writable:!0,value:void 0}),p(this,f,{writable:!0,value:void 0}),p(this,m,{writable:!0,value:void 0}),p(this,g,{writable:!0,value:void 0}),p(this,x,{writable:!0,value:void 0}),this.cachedFilterCount=0,this.isValidated=!1,v(this,f,{}),v(this,m,[]),v(this,g,[]),this.parsingErrors=[],v(this,h,t),v(this,x,e),v(this,y,r),this.isValidated=s,a&&(v(this,f,a.staticContext),this.cachedFilterCount=a.cachedFilterCount??0),this.config=i??l.a7,(function(e,t,i){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return i})(this,b,w).call(this,t)}};function w(e){let t=new Set,i=new Set,r=e=>{for(let a of e)if((0,o.W9)(a))r(a.blocks);else if((0,o.aK)(a)&&!1===a.valid&&this.activeBlockId!==a.id){if(a.validationMessage&&t.add(a.validationMessage??""),!a.key.valid)for(let e of a.key.validations??[])e.message&&t.add(e.message);for(let e of a.value.values)if(!1===e.valid){if(e.validations)for(let i of e.validations??[])i.message&&t.add(i.message);else t.add(s.D.filterInvalidValue(a.key.value,(0,o.q5)((0,o.I8)(e.value))??""))}}else if((0,o.ON)(a)&&a.validations)for(let e of a.validations??[])e.message&&i.add(e.message)};(c(this,x).match(/"/g)??[]).length%2!=0&&i.add(s.D.unbalancedQuotations),r(e),v(this,m,Array.from(t)),v(this,g,Array.from(i))}},70596:(e,t,i)=>{i.d(t,{z:()=>r});let r=(0,i(46632).A)(e=>RegExp(`([\\s${e}"]*?)((?:>|<|>=|<=)*[\\w\\d\\-_"'?/\\.=+!@#$%^&*);:\\p{Extended_Pictographic}]*)$`,"gu"))},13124:(e,t,i)=>{i.d(t,{i:()=>FilterQueryParser});var r=i(46632),a=i(28972),l=i(55782),s=i(58735),n=i(37932),o=i(31911),u=i(70596);function d(e,t,i){if(!t.has(e))throw TypeError("attempted to "+i+" private field on non-instance");return t.get(e)}function c(e,t){var i=d(e,t,"get");return i.get?i.get.call(e):i.value}function p(e,t,i){!function(e,t){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,i)}function v(e,t,i){var r=d(e,t,"set");return!function(e,t,i){if(t.set)t.set.call(e,i);else{if(!t.writable)throw TypeError("attempted to set read only private field");t.value=i}}(e,r,i),i}let y=(0,r.A)(e=>RegExp(`[\\s${e})](?=(?:[^"]*"[^"]*")*[^"]*$)`,"g")),h=(0,r.A)(e=>RegExp(`${e}(?=(?:[^"]*"[^"]*")*[^"]*$)`,"g")),f=["AND","OR"];var m=new WeakMap,g=new WeakMap;let FilterQueryParser=class FilterQueryParser{parse(e,t=new s.N("",[],this.config),i=-1){let r,[a,u]=function(e,t=-1){let{matchedParens:i,unmatchedOpenParens:r,unmatchedCloseParens:a}=function(e){let t=[],i=[],r=!1,a=new Set,l=new Set;for(let a=0;a<e.length;a++)'"'===e[a]&&(r=!r),"("!==e[a]||r?")"===e[a]&&!r&&t.length>0?i.push([t.pop(),a]):")"!==e[a]||r||l.add(a):t.push(a);let s=new Map;for(let[e,t]of i)s.set(e,t);for(let e of t)a.add(e);return{matchedParens:s,unmatchedOpenParens:a,unmatchedCloseParens:l}}(e),l=0,s=0,u=new Set;return(r.size>0||a.size>0)&&u.add({type:o.b.UnbalancedParentheses}),[function u(d=e.length){let c=[],p=e.substring(0,d);for(;l<d;){let v=function(e,t){let i=0,r=null;do{let a=r?r+1:t,l=e.slice(a).search(/\s/);r=-1===l?-1:a+l,i=0;for(let t=0;t<r;t++)'"'===e[t]&&(i+=1)}while(i%2==1)return r}(p,l);if(void 0!==i.get(l)){let r=l,a=i.get(l);l+=1,c.push({id:s,type:o._B.Group,raw:e.substring(r,a+1),blocks:u(a),startIndex:r,endIndex:a,hasCaret:(0,n.dV)(t,r,a)}),l+=1}else if(p[l]?.search(/\s/)===0){let e=p[l]??"";for(let t=l+1;t<d;t++)if(p[t]?.search(/\s/)===0)e+=p[t]??"";else break;c.push({id:s,type:o._B.Space,raw:e,startIndex:l,endIndex:l+e?.length,hasCaret:(0,n.dV)(t,l+1,l+e?.length)}),s+=1,l+=e?.length}else{let e=p.substring(l,v>-1?v+1:void 0).trimEnd(),i=[],u=Array.from(r).filter(t=>t>=l&&t<=l+e.length);u.length>0&&i.push({type:o.b.UnbalancedParentheses});let d=Array.from(a).filter(t=>t>l&&t<l+e.length);d.length>0&&i.push({type:o.b.UnbalancedParentheses}),c.push({id:s,type:o._B.Text,raw:e,startIndex:l,endIndex:l+e.length,hasCaret:(0,n.dV)(t,l,l+e.length),valid:0===u.length&&0===d.length,validations:i}),s+=1,l+=e.length}}return c}(),Array.from(u)]}(e,i),d=e=>{for(let[t,a]of e.entries())if(a.type!==o._B.Space){if((0,n.W9)(a))a.blocks=d(a.blocks);else{let l=a;if(f.includes(l.raw))l.type=o._B.Keyword;else{let r=l.raw,a=r.indexOf(this.config.filterDelimiter),s=r.substring(0,a),n=this.filterProviders.find(e=>e.key===s||e.aliases?.some(e=>e===s)||e.options?.filterTypes.exclusive&&`-${e.key}`===s);n&&(l=this.processFilterBlock(l,n,a,i),e[t]=l)}l.hasCaret&&(r=l)}}else a.type===o._B.Space&&a.hasCaret&&(r=a);return e};a=d(a);let c=new s.N(e,a,this.config,r,t.instanceContext);return c.parsingErrors=u.map(e=>{if(e.message)return e.message;switch(e.type){case o.b.UnbalancedParentheses:return l.D.unbalancedParentheses;case o.b.UnbalancedQuotations:return l.D.unbalancedQuotations;default:return""}}),c}replaceActiveBlockWithNoBlock(e){let t;let i=0,r=e.activeBlock;if(!(r&&(0,n.v7)(r)))return[e.raw,e.raw.length];{let a=e.raw.substring(0,r.startIndex),l=e.raw.substring(r.endIndex);return i=(t=`${a}no${this.config.filterDelimiter}${r.key.value}`).length,[t+=l&&l[0]?.search(/\s/)!==0?` ${l}`:l,i]}}insertSuggestion(e,t,i){let r;let a=0,l=e.activeBlock;if(l&&(0,n.v7)(l)){let s=e.raw.substring(0,l.startIndex),n=e.raw.substring(l.endIndex),o=l.value.raw.substring(0,i-l.value.startIndex);o=o.replace(this.LAST_DELIMITER_REGEX,"$1")+t;let u=l.value.raw.substring(i-l.value.startIndex);this.NEXT_DELIMITER_REGEX.lastIndex=0;let d=this.NEXT_DELIMITER_REGEX.exec(u);u=d?u.substring(d.index):"";let c=l.key.value;t.startsWith("-")&&(c=t,o=""),a=(r=`${s}${c}${this.config.filterDelimiter}${o}${u}`).length-u.length,r+=n}else if(l&&(0,n.ON)(l)&&i-l.startIndex<=l.raw.indexOf(this.config.filterDelimiter)){let i=e.raw.substring(0,l.startIndex),s=e.raw.substring(l.endIndex),n=l.raw.indexOf(this.config.filterDelimiter),o=l.raw.substring(n+1);r=`${i}${t}${o}${s}`,a=i.length+t.length}else if(i>=0){let l=e.raw.substring(0,i),s=e.raw.substring(i);this.NEXT_DELIMITER_REGEX.lastIndex=0;let n=this.NEXT_DELIMITER_REGEX.exec(s);s=n?s.substring(n.index):"",r=(l=l.replace(this.LAST_DELIMITER_REGEX,"$1")+t)+s,a=l.length}else a=(r=e.raw+t).length;return[r,a]}getRaw(e){let t="";for(let i of e.blocks)(0,n.aK)(i)?t+=i.key.value+(i.value.raw?`${e.config.filterDelimiter}${i.value.raw}`:""):t+=i.raw;return t}validateFilterProvider(e){return e.options.support.status===o.b9.Unsupported?[!1,{type:o.b.FilterProviderUnsupported,message:e.options.support.message??l.D.filterProviderNotSupported(e.key)}]:e.options.support.status===o.b9.Deprecated?[!1,{type:o.b.FilterProviderDeprecated,message:e.options.support.message??l.D.filterProviderDeprecated(e.key)}]:[!0,void 0]}processFilterBlock(e,t,i,r){let a=e.startIndex,l=e.raw.substring(0,i),s=e.raw.substring(i+1),u=(0,n.zB)(t,l,s)??o.tl.Is,d=a+i+1,p=s.split(this.ITEMS_REGEX);if(u===o.tl.Between){let e=[];p.map(t=>{let i=t.split("..").filter(e=>e);i.length<2&&(t.startsWith("..")?i=["",...i]:i.push("")),e=[...e,...i]}),p=e}let v=p.map(e=>{let t={startIndex:d,endIndex:d+e.length,hasCaret:(0,n.dV)(r,d,d+e.length),value:e,valid:!!c(this,g).has(`${l}${this.config.filterDelimiter}${(0,n.I8)(e)}`)||void 0},i=u===o.tl.Between?2:1;return d=d+e.length+i,t});return{...e,type:o._B.Filter,provider:t,operator:u,valid:!!c(this,g).has(e.raw)||void 0,key:{startIndex:a,endIndex:a+i,hasCaret:(0,n.dV)(r,a,a+i),value:l},value:{startIndex:a+i+1,endIndex:a+e.raw.length,hasCaret:(0,n.dV)(r,a+i+1,a+e.raw.length),values:v,raw:s}}}async validateQueryBlock(e,t){if((0,n.v7)(e)){let[i,r]=this.validateFilterProvider(e.provider),a=await e.provider.validateFilterBlockValues?.(t,e,e.value.values,this.config);a.map(t=>{t.valid&&c(this,g).add(`${e.provider.key}${this.config.filterDelimiter}${(0,n.I8)(t.value)}`)});let l=a.every(e=>e.valid)&&i;return l&&c(this,g).add(e.raw),{...e,valid:l,key:{...e.key,valid:i,validations:r?[r]:void 0},value:{...e.value,values:a}}}if((0,n.ON)(e))for(let t of e.validations??[])t.type===o.b.UnbalancedParentheses&&(t.message=l.D.unbalancedParentheses);return e}async validateGroupBlock(e,t){let i=await Promise.all(e.blocks.map(e=>(0,n.W9)(e)?this.validateGroupBlock(e,t):this.validateQueryBlock(e,t)));return{...e,blocks:i}}async validateFilterQuery(e){let t=[];e.blocks.map(i=>{(0,n.W9)(i)?t.push(this.validateGroupBlock(i,e)):(0,n.h8)(i)&&t.push(this.validateQueryBlock(i,e))});let i=await Promise.all(t);return!c(this,m)[e.raw]&&(0,n.Ed)(e)&&(c(this,m)[e.raw]=e),new s.N(e.raw,i,this.config,e.activeBlock,e.instanceContext,!0)}constructor(e=[],t){p(this,m,{writable:!0,value:void 0}),p(this,g,{writable:!0,value:void 0}),this.filterProviders=[],v(this,m,{}),this.filterProviders=e,this.config=t??a.a7,v(this,g,new Set),this.NEXT_DELIMITER_REGEX=y(this.config.valueDelimiter),this.ITEMS_REGEX=h(this.config.valueDelimiter),this.LAST_DELIMITER_REGEX=(0,u.z)(this.config.valueDelimiter)}}},90797:(e,t,i)=>{i.r(t),i.d(t,{default:()=>a});let r=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"name"},{defaultValue:null,kind:"LocalArgument",name:"owner"}],t=[{kind:"Variable",name:"name",variableName:"name"},{kind:"Variable",name:"owner",variableName:"owner"}],i=[{kind:"Literal",name:"first",value:10}],r={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"typeFilterIssueTypeQuery",selections:[{alias:null,args:t,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:i,concreteType:"IssueTypeConnection",kind:"LinkedField",name:"issueTypes",plural:!1,selections:[{alias:null,args:null,concreteType:"IssueTypeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"node",plural:!1,selections:[r],storageKey:null}],storageKey:null}],storageKey:"issueTypes(first:10)"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"typeFilterIssueTypeQuery",selections:[{alias:null,args:t,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:i,concreteType:"IssueTypeConnection",kind:"LinkedField",name:"issueTypes",plural:!1,selections:[{alias:null,args:null,concreteType:"IssueTypeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"node",plural:!1,selections:[r,a],storageKey:null}],storageKey:null}],storageKey:"issueTypes(first:10)"},a],storageKey:null}]},params:{id:"7471367246cf3b20c118278cf523c0e9",metadata:{},name:"typeFilterIssueTypeQuery",operationKind:"query",text:null}}}();r.hash="8c9fc35881bc4e3780186dbfeb49e087";let a=r},55536:(e,t,i)=>{i.r(t),i.d(t,{default:()=>a});let r=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"login"},{defaultValue:null,kind:"LocalArgument",name:"number"}],t=[{kind:"Variable",name:"login",variableName:"login"}],i=[{kind:"Variable",name:"number",variableName:"number"}],r={alias:null,args:null,kind:"ScalarField",name:"suggestedIssueTypeNames",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"typeFilterProjectIssueTypeQuery",selections:[{alias:null,args:t,concreteType:"Organization",kind:"LinkedField",name:"organization",plural:!1,selections:[{alias:null,args:i,concreteType:"ProjectV2",kind:"LinkedField",name:"projectV2",plural:!1,selections:[r],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"typeFilterProjectIssueTypeQuery",selections:[{alias:null,args:t,concreteType:"Organization",kind:"LinkedField",name:"organization",plural:!1,selections:[{alias:null,args:i,concreteType:"ProjectV2",kind:"LinkedField",name:"projectV2",plural:!1,selections:[r,a],storageKey:null},a],storageKey:null}]},params:{id:"7b526489d1e08174583970802a93417f",metadata:{},name:"typeFilterProjectIssueTypeQuery",operationKind:"query",text:null}}}();r.hash="60d6d2b3409ce4dee63013753e4acfe2";let a=r},95723:(e,t,i)=>{i.r(t),i.d(t,{default:()=>a});let r=function(){var e={alias:null,args:null,kind:"ScalarField",name:"suggestedIssueTypeNames",storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"typeFilterViewerIssueTypeQuery",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"viewer",plural:!1,selections:[e],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"typeFilterViewerIssueTypeQuery",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"viewer",plural:!1,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:"c3666f29c9feb3c2e86787b98e9fe48a",metadata:{},name:"typeFilterViewerIssueTypeQuery",operationKind:"query",text:null}}}();r.hash="b464effe8e3d73669952ff2bc6578276";let a=r},89541:(e,t,i)=>{i.d(t,{AR:()=>ArchivedFilterProvider,n5:()=>AssigneeFilterProvider,kr:()=>AsyncFilterProvider,Bc:()=>AuthorFilterProvider,dR:()=>BaseFilterProvider,Qh:()=>BaseUserFilterProvider,ws:()=>ClosedFilterProvider,_N:()=>CommenterFilterProvider,Ge:()=>CommentsFilterProvider,_O:()=>CreatedFilterProvider,FZ:()=>DraftFilterProvider,Ws:()=>HeadFilterProvider,jd:()=>InBodyFilterProvider,z_:()=>InCommentsFilterProvider,$W:()=>InTitleFilterProvider,NT:()=>InteractionsFilterProvider,IL:()=>InvolvesFilterProvider,I4:()=>IsFilterProvider,jf:()=>KeyOnlyFilterProvider,aF:()=>LabelFilterProvider,a2:()=>LanguageFilterProvider,d$:()=>LinkedFilterProvider,Pd:()=>MentionsFilterProvider,Or:()=>MergedFilterProvider,Qq:()=>MilestoneFilterProvider,E:()=>OrgFilterProvider,FG:()=>ProjectFilterProvider,WE:()=>ReactionsFilterProvider,Ag:()=>ReasonFilterProvider,pH:()=>RepositoryFilterProvider,A6:()=>ReviewFilterProvider,kL:()=>ReviewRequestedFilterProvider,sW:()=>ReviewedByFilterProvider,KX:()=>ShaFilterProvider,uB:()=>SortFilterProvider,PT:()=>StateFilterProvider,uy:()=>StaticFilterProvider,C2:()=>StatusFilterProvider,NN:()=>TeamFilterProvider,X_:()=>TeamReviewRequestedFilterProvider,QO:()=>TypeFilterProvider,pv:()=>UpdatedFilterProvider,Dv:()=>UserFilterProvider,LB:()=>UserReviewRequestedFilterProvider});var r=i(34850),a=i(55782),l=i(73476),s=i(31911),n=i(37932),o=i(37015);let AsyncFilterProvider=class AsyncFilterProvider extends o.A{abortPreviousSuggestionsRequests(){this.abortSuggestionsController.abort(),this.abortSuggestionsController=new AbortController}abortPreviousValidationRequests(){this.abortValidationController.abort(),this.abortValidationController=new AbortController}getFilterValue(e,t){return t||((0,n.I8)((0,n.sF)(e)?(0,n.I8)(e.value?.values.at(-1)?.value):e.raw)??"")}getMetaSuggestions(e){return[]}async processSuggestions(e,t,i,r){if(!this.shouldGetSuggestions(t))return null;let a=(0,n.DS)(t,r);this.abortPreviousSuggestionsRequests();let l=this.abortSuggestionsController,s=await this.fetchSuggestions(a,t,e.contextURLParams)??[],o=t.provider.key,u=[],d=(0,n.jL)(this.displayName,this.icon),c=(0,n.m1)(o);(0,n.uT)(t)&&this.options.filterTypes.valueless&&!t.raw.startsWith("-")&&u.push(d),this.options.filterTypes.exclusive&&""===a&&(0,n.aK)(t)&&t.raw!==`-${o}:`&&u.unshift(c);let p=[...u,...[...s].map(t=>i(t,a,e))];for(let e of p)[d,c].includes(e)||this.prefetchedSuggestions.set(e.value,e);return l.signal.aborted?null:p}async validateFilterBlockValues(e,t,i){let r={},l=i.map(async(l,o)=>{let u=(0,n.M5)(l.value),d=i.findIndex(e=>(0,n.M5)(e.value)===u);if(!u||d<o&&d>=0){r[o]={...l,valid:!1,validations:[{type:s.b.EmptyValue,message:a.D.filterValueEmpty(this.key)}]};return}let c=this.prefetchedSuggestions.get(u),p=this.getMetaSuggestions(u)?.[0];if(c){r[o]={...l,...c,valid:!0,value:l.value};return}if(p?.value===u){r[o]={...l,...p,valid:!0,value:l.value};return}if(e.activeBlockId!==t.id){let t=this.getFilterValue({id:1,type:s._B.Filter,raw:`${this.key}:`,value:{raw:u,values:[{value:u}]}},u),i=await this.validateFilterValue(t,e.contextURLParams);if(i instanceof Error)"Aborted"===i.message?r[o]={...l,valid:void 0,value:l.value}:r[o]={...l,valid:!1};else{let t=this.validateValue?.(e,l,i);return t?t.value===s.rt?r[o]={...l,valid:!0,value:l.value}:r[o]={...l,valid:!0,...t,value:l.value}:r[o]={...l,valid:!1,validations:[{type:s.b.InvalidValue,message:a.D.filterInvalidValue(this.key,u)}]},l}}r[o]={...l,valid:void 0}});return await Promise.all(l),Object.values(r)}async fetchSuggestions(e,t,i){try{if(this.suggestionCache.has(e))return this.suggestionCache.get(e)??[];if(!this.suggestionEndpoint||""===this.suggestionEndpoint)throw Error("No suggestion endpoint provided");let t=new URL(this.suggestionEndpoint,window.location.origin),r=new URLSearchParams([i?.toString(),this.providerContext?.toString()].join("&"));r.set("q",e),r.set("filter_value",e),t.search=r.toString();let a=await this.fetchData(t.toString());if(!a||!a.ok)return null;let s=await a.json(),n=Object.keys(s)[0],o=n?s[n]:null;if(Array.isArray(o)&&o.length<l.Rx&&this.completeResultSetQueries.add(e),!o)return null;return this.suggestionCache.set(e,o),o}catch{return null}}isCompleteResultSetQuery(e){return!!e&&-1!==Array.from(this.completeResultSetQueries).findIndex(t=>e.startsWith(t))}findPrefetchedSuggestions(e){if(!e)return[];let t=(0,r.t)({items:[...this.prefetchedSuggestions.values()],filter:e,key:e=>(0,n.I8)(e.value)??"",secondaryKey:e=>e.displayName??""}).slice(0,l.Rx);return t.push(...this.getMetaSuggestions(e)),t}async validateFilterValue(e,t){try{let i;if(this.validationCache.has(e))return this.validationCache.get(e)??null;if(!this.validationEndpoint||""===this.validationEndpoint)throw Error("No validation endpoint provided");let r=new URL(this.validationEndpoint,window.location.origin),a=new URLSearchParams([t?.toString(),this.providerContext?.toString()].join("&"));a.set("q",e),a.set("filter_value",e),r.search=a.toString(),this.abortPreviousValidationRequests();let l=await this.fetchData(r.toString(),this.abortValidationController);if(!l)return Error("Aborted");if(!l.ok)return null;let s=await l.json(),n=Object.keys(s);return i=1===n.length&&n[0]&&Array.isArray(s[n[0]])?Array.isArray(s[n[0]])?s[n[0]][0]:s[n[0]]:s,this.validationCache.set(e,i),i}catch{return null}}async fetchData(e,t){let i;try{i=await fetch(e,{method:"GET",mode:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json"},signal:t?.signal})}catch(e){if("AbortError"!==e.name)throw e}return i}constructor(e,t){super(e,t),this.suggestionEndpoint="",this.validationEndpoint="",this.suggestionCache=new Map,this.completeResultSetQueries=new Set,this.validationCache=new Map,this.abortSuggestionsController=new AbortController,this.abortValidationController=new AbortController,this.prefetchedSuggestions=new Map}};var u=i(28972),d=i(39168);let KeyOnlyFilterProvider=class KeyOnlyFilterProvider{getSuggestions(){return null}validateFilterBlockValues(e,t,i){return i.map(e=>({...e,valid:!0}))}getValueRowProps(){return{text:""}}constructor(e,t){this.type=s.CH.Text,Object.assign(this,e),this.key=e.key,this.icon=e.icon,this.displayName=e.displayName??(0,n.ZH)(e.key),this.options={...u.dQ,...t,filterTypes:{...u.dQ.filterTypes,multiValue:!1,valueless:!1,...t?.filterTypes}},this.priority=this.options.priority}};let BaseFilterProvider=class BaseFilterProvider extends KeyOnlyFilterProvider{constructor(e){super(d._i.base,e)}};let HeadFilterProvider=class HeadFilterProvider extends KeyOnlyFilterProvider{constructor(e){super(d._i.head,e)}};let InBodyFilterProvider=class InBodyFilterProvider extends KeyOnlyFilterProvider{constructor(e){super(d._i.inBody,e)}};let InCommentsFilterProvider=class InCommentsFilterProvider extends KeyOnlyFilterProvider{constructor(e){super(d._i.inComments,e)}};let InTitleFilterProvider=class InTitleFilterProvider extends KeyOnlyFilterProvider{constructor(e){super(d._i.inTitle,e)}};let ShaFilterProvider=class ShaFilterProvider extends KeyOnlyFilterProvider{constructor(e){super(d._i.sha,e)}};var c=i(93800),p=i(58183);let LabelFilterProvider=class LabelFilterProvider extends AsyncFilterProvider{async getSuggestions(e,t,i,r){return this.processSuggestions(e,t,this.processSuggestion.bind(this),r)}getIconData(e,t){return t.repo?{iconColor:e.color?.startsWith("#")?e.color:`#${e.color}`,description:e.description,inlineDescription:!1}:{icon:this.icon}}processSuggestion(e,t,i){let r=3;return t&&e.name&&(r-=(0,c.dt)(t,e.name)),{type:s.ak.Value,displayName:e.nameHtml??e.name,ariaLabel:`${e.name}, ${this.displayName}`,value:e.name??"",priority:r,...this.getIconData(e,i.context)}}validateValue(e,t,i){let r=(0,n.M5)(t.value);return!!r&&(i?{iconColor:i.color?.startsWith("#")?i.color:`#${i.color}`,value:r,displayName:i.name,...this.getIconData(i,e.context)}:!e.context.repo&&!e.context.org&&{value:s.rt})}getValueRowProps(e){return{text:e.displayName??(0,n.I8)(e.value)??"",description:e.description,descriptionVariant:"block",leadingVisual:(0,p.d)({value:e,providerIcon:this.icon})}}constructor(e){super(d._i.label,e),this.suggestionEndpoint="/_filter/labels",this.validationEndpoint="/_filter/labels/validate",this.type=s.CH.Select}};let LanguageFilterProvider=class LanguageFilterProvider extends AsyncFilterProvider{async getSuggestions(e,t,i,r){return this.processSuggestions(e,t,this.processSuggestion.bind(this),r)}processSuggestion(e,t){let i=3;return t&&e.name&&(i-=(0,c.dt)(t,e.name)),{type:s.ak.Value,displayName:e.name,ariaLabel:`${e.name}, ${this.displayName}`,value:e.name??"",priority:i,iconColor:e.color?.startsWith("#")?e.color:`#${e.color}`}}validateValue(e,t,i){let r=(0,n.M5)(t.value);return!!i&&!!r&&{iconColor:i.color?.startsWith("#")?i.color:`#${i.color}`,value:r,displayName:i.name}}getValueRowProps(e){return{text:e.displayName??(0,n.I8)(e.value)??"",description:e.description,descriptionVariant:"block",leadingVisual:(0,p.d)({value:e,providerIcon:this.icon})??void 0}}constructor(e){super(d._i.language,e),this.suggestionEndpoint="/_filter/languages",this.validationEndpoint="/_filter/languages/validate",this.type=s.CH.Select}};let MilestoneFilterProvider=class MilestoneFilterProvider extends AsyncFilterProvider{async getSuggestions(e,t,i,r){return this.processSuggestions(e,t,this.processSuggestion.bind(this),r)}processSuggestion(e,t){let{id:i,title:r,description:a}=e,l=3;return t&&r&&(l-=(0,c.dt)(t,r)),{id:i,type:s.ak.Value,displayName:r,ariaLabel:`${r}, ${this.displayName}`,value:r,description:a,inlineDescription:!1,priority:l,icon:this.icon}}validateValue(e,t,i){let r=(0,n.M5)(t.value);return!!r&&(i?{value:r,displayName:i.title,description:i.description}:!e.context.repo&&!e.context.org&&{value:s.rt})}getValueRowProps(e){return{text:e.displayName??(0,n.I8)(e.value)??"",description:e.description,descriptionVariant:"block",leadingVisual:(0,p.d)({value:e,providerIcon:this.icon,squareIcon:!0})}}constructor(e){super(d._i.milestone,e),this.suggestionEndpoint="/_filter/milestones",this.validationEndpoint="/_filter/milestones/validate",this.type=s.CH.Select}};let OrgFilterProvider=class OrgFilterProvider extends AsyncFilterProvider{async getSuggestions(e,t,i,r){return this.processSuggestions(e,t,this.processSuggestion.bind(this),r)}processSuggestion(e,t){let{name:i,login:r,avatarUrl:a}=e,l=3;return t&&(i&&(l-=(0,c.dt)(t,i)),r&&(l-=(0,c.dt)(t,r))),{type:s.ak.Value,displayName:i,ariaLabel:`${i}, ${this.displayName}`,value:(0,n.$4)(r)??"",description:r,inlineDescription:!0,priority:l,icon:a?void 0:this.icon,avatar:a?{url:a,type:s.uW.Org}:void 0}}validateValue(e,t,i){let r=(0,n.M5)(t.value);return!!i&&!!r&&{avatar:i.avatarUrl?{url:i.avatarUrl,type:s.uW.Org}:void 0,value:r,displayName:i.name}}getValueRowProps(e){return{text:e.displayName??(0,n.I8)(e.value)??"",description:e.description,descriptionVariant:"block",leadingVisual:(0,p.d)({value:e,providerIcon:this.icon,squareIcon:!0})}}constructor(e){super(d._i.org,e),this.suggestionEndpoint="/_filter/organizations",this.validationEndpoint="/_filter/organizations/validate",this.type=s.CH.Select}};let ProjectFilterProvider=class ProjectFilterProvider extends AsyncFilterProvider{async getSuggestions(e,t,i,r){return this.processSuggestions(e,t,this.processSuggestion.bind(this),r)}processSuggestion(e,t){let{title:i,value:r}=e,a=3;return t&&(i&&(a-=(0,c.dt)(t,i)),r&&(a-=(0,c.dt)(t,r))),{type:s.ak.Value,displayName:i,ariaLabel:`${i}, ${this.displayName}`,value:(0,n.$4)(r)??"",description:r,inlineDescription:!1,priority:a}}validateValue(e,t,i){let r=(0,n.M5)(t.value);return!!r&&(i?{displayName:i.title,value:r}:!e.context.repo&&!e.context.org&&{value:s.rt})}getValueRowProps(e){return{text:e.displayName??(0,n.I8)(e.value)??"",description:e.description,descriptionVariant:"block"}}constructor(e){super(d._i.project,e),this.suggestionEndpoint="/_filter/projects",this.validationEndpoint="/_filter/projects/validate",this.type=s.CH.Select}};let RepositoryFilterProvider=class RepositoryFilterProvider extends AsyncFilterProvider{async getSuggestions(e,t,i,r){return this.processSuggestions(e,t,this.processSuggestion.bind(this),r)}processSuggestion(e,t){let{nameWithOwner:i}=e,r=3;return t&&i&&(r-=(0,c.dt)(t,i)),{type:s.ak.Value,displayName:i,ariaLabel:`${i}, ${this.displayName}`,value:i,inlineDescription:!1,priority:r,icon:this.icon}}validateValue(e,t,i){let r=(0,n.M5)(t.value);return!!i&&!!r&&{displayName:i.name,value:r}}getValueRowProps(e){return{text:e.displayName??(0,n.I8)(e.value)??"",description:e.description,descriptionVariant:"block",leadingVisual:(0,p.d)({value:e,providerIcon:this.icon,squareIcon:!0})}}constructor(e){super(d._i.repo,e),this.suggestionEndpoint="/_filter/repositories",this.validationEndpoint="/_filter/repositories/validate",this.type=s.CH.Select}};var v=i(91385);let y=/(?:>|<|>=|<=)?(\d+)/g,h=/^(?:>|<|>=|<=)?(\d{4}-\d{1,2}-\d{1,2})?$/,f=/^(?:>|<|>=|<=)?(\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}Z?)$/,m=/^(?:>|<|>=|<=)?(\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\+\d{2}:\d{2})$/,g=/^(?:>|<|>=|<=)?(@[A-Za-z]+)([+-]\d+[mdwqy])?$/,x=[">=","<=",">","<"];let StaticFilterProvider=class StaticFilterProvider extends o.e{getSuggestions(e,t,i,r){if(!this.shouldGetSuggestions(t))return null;let a=(0,n.DS)(t,r),l=t.provider.key,o=[];if((0,n.uT)(t)&&this.options.filterTypes.valueless&&o.push((0,n.jL)(this.displayName,this.icon)),this.options.filterTypes.exclusive&&""===a&&(0,n.aK)(t)&&t.raw!==`-${l}:`){let e=(0,n.m1)(l);o.unshift(e)}let u=x.find(e=>a===e||a===`${e}@`);if(!a&&!u)return this.filterValues;for(let e of this.filterValues){let{value:t,displayName:r}=e,l=(0,n.I8)(t),d={...e,type:s.ak.Value},p=l&&!x.find(e=>l.startsWith(e));if(this.type===s.CH.Date&&p)d.value=`${u??""}${l}`;else{let t=!!l&&(0,v.qA)(a,l),s=!!i.aliasMatching&&e.aliases&&e.aliases.some(e=>(0,v.qA)(a,e)),n=!!r&&(0,v.qA)(a,r);if(!l||!t&&!n&&!s)continue}e.priority-=(0,c.dt)(a,l),o.push(d)}return o}async validateFilterBlockValues(e,t,i,r){let l=[],o=i.map((e,i)=>{if(!this.options.filterTypes.multiValue&&(t.operator===s.tl.Between&&i>1||t.operator!==s.tl.Between&&i>0)){l[i]={...e,valid:!1,validations:[{type:s.b.MultiValueUnsupported,message:a.D.filterMultiValueFalse(this.key)}]};return}let o=(0,n.M5)(e.value);if(!o){l[i]={...e,valid:!1,validations:[{type:s.b.EmptyValue,message:a.D.filterValueEmpty(this.key)}]};return}if(t.operator===s.tl.Between&&x.some(e=>o.startsWith(e))){l[i]={...e,valid:!1,validations:[{type:s.b.InvalidValue,message:a.D.filterInvalidValue(this.key,o)}]};return}let u=!0;switch(this.type){case s.CH.Boolean:case s.CH.Select:u=void 0!==this.filterValues.find(e=>(0,n.I8)(e.value)===o||r?.aliasMatching&&e.aliases?.includes(o));break;case s.CH.Text:u=!0;break;case s.CH.Number:{let e=o.match(y);u=(e?.length??0)>0&&e?.[0]===o;break}case s.CH.Date:if(o){if(g.test(o)){let[,e]=g.exec(o)??[];u=void 0!==this.filterValues.find(t=>(0,n.I8)(t.value)===e)}else{let e=null;m.test(o)?e=m.exec(o)?.[1]??null:f.test(o)?e=f.exec(o)?.[1]??null:h.test(o)&&(e=h.exec(o)?.[1]??null),u=!!e&&!isNaN(Date.parse(e))}}break;default:u=!0}let d=this.filterValues.find(e=>(0,n.SH)((0,n.I8)(e.value)??"",o));d?l[i]={...e,...d,valid:!0,value:e.value}:l[i]={...e,valid:u}});return await Promise.all(o),Object.values(l)}getValueRowProps(e){return{text:e.displayName??(0,n.I8)(e.value)??"",description:e.description,leadingVisual:(0,p.d)({value:e})}}constructor(e,t,i){super(e,i),this.filterValues=t.map(e=>({...e,ariaLabel:`${e.displayName}, ${this.displayName}`}))}};let ArchivedFilterProvider=class ArchivedFilterProvider extends StaticFilterProvider{constructor(e){super(d._i.archived,d.sS.archived,{...e,filterTypes:{...e?.filterTypes,multiValue:!1,valueless:!1}}),this.type=s.CH.Boolean}};let ClosedFilterProvider=class ClosedFilterProvider extends StaticFilterProvider{constructor(e){super(d._i.closed,d.sS.closed,e),this.type=s.CH.Date}};let CommentsFilterProvider=class CommentsFilterProvider extends StaticFilterProvider{constructor(e){let t={filterTypes:{multiValue:!1,valueless:!1}};super(d._i.comments,d.sS.comments,{...t,...e,filterTypes:{...t.filterTypes,...e?.filterTypes}}),this.type=s.CH.Number}};let CreatedFilterProvider=class CreatedFilterProvider extends StaticFilterProvider{constructor(e){let t={filterTypes:{valueless:!1}};super(d._i.created,d.sS.created,{...t,...e,filterTypes:{...t.filterTypes,...e?.filterTypes}}),this.type=s.CH.Date}};let DraftFilterProvider=class DraftFilterProvider extends StaticFilterProvider{constructor(e){let t={filterTypes:{multiValue:!1,valueless:!1}};super(d._i.draft,d.sS.draft,{...t,...e,filterTypes:{...t.filterTypes,...e?.filterTypes}}),this.type=s.CH.Boolean}};let InteractionsFilterProvider=class InteractionsFilterProvider extends StaticFilterProvider{constructor(e){let t={filterTypes:{multiValue:!1,valueless:!1}};super(d._i.interactions,d.sS.interactions,{...t,...e,filterTypes:{...t.filterTypes,...e?.filterTypes}}),this.type=s.CH.Number}};let IsFilterProvider=class IsFilterProvider extends StaticFilterProvider{constructor(e,t){let i=e?.map(e=>d.VT[e]).filter(Boolean)??[],r={filterTypes:{valueless:!1}};super(d._i.is,i?.length>0?i:d.sS.is,{...r,...t,filterTypes:{...r.filterTypes,...t?.filterTypes}}),this.type=s.CH.Select}};let LinkedFilterProvider=class LinkedFilterProvider extends StaticFilterProvider{constructor(e,t){let i={...t,filterTypes:{...t?.filterTypes,multiValue:!1,valueless:!1}},r=e?.map(e=>d.Ez[e]).filter(Boolean)??[];super(d._i.linked,r?.length>0?r:d.sS.linked,i),this.type=s.CH.Select}};let MergedFilterProvider=class MergedFilterProvider extends StaticFilterProvider{constructor(e){super(d._i.merged,d.sS.merged,{...e,filterTypes:{...e?.filterTypes,multiValue:!1}}),this.type=s.CH.Date}};let ReactionsFilterProvider=class ReactionsFilterProvider extends StaticFilterProvider{constructor(e){super(d._i.reactions,d.sS.reactions,{...e,filterTypes:{multiValue:!1,valueless:!1,...e?.filterTypes}}),this.type=s.CH.Number}};let ReasonFilterProvider=class ReasonFilterProvider extends StaticFilterProvider{constructor(e){super(d._i.reason,d.sS.reason,e),this.type=s.CH.Select}};let ReviewFilterProvider=class ReviewFilterProvider extends StaticFilterProvider{constructor(e){super(d._i.review,d.sS.review,e),this.type=s.CH.Select}};let SortFilterProvider=class SortFilterProvider extends StaticFilterProvider{constructor(e,t){let i=[...e?.map(e=>d.$c[`${e}-desc`]).filter(Boolean)??[],...e?.map(e=>d.$c[`${e}-asc`]).filter(Boolean)??[],...e?.includes("reactions")?d.OV:[]];super(d._i.sort,i?.length>0?i:d.sS.sort,t),this.type=s.CH.Select}};let StateFilterProvider=class StateFilterProvider extends StaticFilterProvider{constructor(e="mixed",t){let i=(0,n.Lu)(e),r={filterTypes:{valueless:!1}};super(d._i.state,i,{...r,...t,filterTypes:{...r.filterTypes,...t?.filterTypes}}),this.stateContext=e,this.type=s.CH.Select}};let StatusFilterProvider=class StatusFilterProvider extends StaticFilterProvider{constructor(e){super(d._i.status,d.sS.status,e),this.type=s.CH.Select}};let UpdatedFilterProvider=class UpdatedFilterProvider extends StaticFilterProvider{constructor(e){super(d._i.updated,d.sS.updated,e),this.type=s.CH.Date}};let BaseTeamFilterProvider=class BaseTeamFilterProvider extends AsyncFilterProvider{async getSuggestions(e,t,i,r){return this.processSuggestions(e,t,this.processSuggestion.bind(this),r)}processSuggestion(e,t){let{name:i,combinedSlug:r,avatarUrl:a}=e,l=3;return t&&(i&&(l-=(0,c.dt)(t,i)),r&&(l-=(0,c.dt)(t,r))),{type:s.ak.Value,displayName:i,value:(0,n.$4)(r)??"",ariaLabel:`${i}, ${this.displayName}`,description:r,inlineDescription:!0,priority:l,icon:a?void 0:this.icon,avatar:a?{url:a,type:s.uW.Team}:void 0}}validateValue(e,t,i){let r=(0,n.M5)(t.value);return!!r&&(i?{avatar:i.avatarUrl?{url:i.avatarUrl,type:s.uW.Team}:void 0,value:r,displayName:i.name}:!e.context.repo&&!e.context.org&&{value:s.rt})}getValueRowProps(e){return{text:e.displayName??(0,n.I8)(e.value)??"",description:e.description,descriptionVariant:"inline",leadingVisual:(0,p.d)({value:e,providerIcon:this.icon})}}constructor(e,t,i){super(e,i),this.suggestionEndpoint="/_filter/teams",this.validationEndpoint="/_filter/teams/validate",this.type=s.CH.Select}};let TeamFilterProvider=class TeamFilterProvider extends BaseTeamFilterProvider{constructor(e,t){super(d._i.team,e,t)}};let TeamReviewRequestedFilterProvider=class TeamReviewRequestedFilterProvider extends BaseTeamFilterProvider{constructor(e,t){super(d._i.teamReviewRequested,e,t)}};var b=i(18312),w=i(69487);let k=i(90797),I=i(95723),S=i(55536);let TypeFilterProvider=class TypeFilterProvider extends AsyncFilterProvider{async getSuggestions(e,t,i,r){let a=(0,n.DS)(t,r),l=await this.processSuggestions(e,t,this.processSuggestion.bind(this),r)||[],s=[];for(let e of l){let{value:t,displayName:i}=e,r=(0,n.I8)(t),l=!!r&&(0,v.qA)(a,r),o=!!i&&(0,v.qA)(a,i);r&&(l||o)&&(e.priority-=(0,c.dt)(a,r),s.push(e))}return s}async fetchSuggestions(e,t){if(!t)return[];try{if(this.relayEnvironment&&this.requestVariables&&this.repositoryScope&&this.issueTypesEnabled){let e=await (0,b.fetchQuery)(this.relayEnvironment,k,this.requestVariables,{fetchPolicy:"store-or-network"}).toPromise(),t=e?.repository?.issueTypes?.edges||[],i=[];for(let e of t)e&&e.node&&e.node.name&&i.push({name:e.node.name});return i}if(this.relayEnvironment&&this.projectScope&&this.issueTypesEnabled){let e=await (0,b.fetchQuery)(this.relayEnvironment,S,this.requestVariables,{fetchPolicy:"store-or-network"}).toPromise(),t=e?.organization?.projectV2?.suggestedIssueTypeNames||[];return t?.map(e=>({name:e}))}if(this.relayEnvironment&&!this.projectScope&&!this.repositoryScope){let e=await (0,b.fetchQuery)(this.relayEnvironment,I,{},{fetchPolicy:"store-or-network"}).toPromise(),t=e?.viewer?.suggestedIssueTypeNames||[];return t?.map(e=>({name:e}))}}catch{}return[]}async validateFilterValue(e){try{if(this.relayEnvironment&&this.requestVariables&&this.repositoryScope&&this.issueTypesEnabled){let t=await (0,b.fetchQuery)(this.relayEnvironment,k,this.requestVariables,{fetchPolicy:"store-or-network"}).toPromise(),i=t?.repository?.issueTypes?.edges||[],r=[];for(let e of i)e&&e.node&&e.node.name&&r.push({name:e.node.name});return r.find(t=>(0,n.SH)(t.name,e))}if(this.relayEnvironment&&this.requestVariables&&this.projectScope&&this.issueTypesEnabled){let t=await (0,b.fetchQuery)(this.relayEnvironment,S,this.requestVariables,{fetchPolicy:"store-or-network"}).toPromise(),i=t?.organization?.projectV2?.suggestedIssueTypeNames||[];return{name:i?.find(t=>n.SH(t,e))}}if(this.relayEnvironment){let t=await (0,b.fetchQuery)(this.relayEnvironment,I,{},{fetchPolicy:"store-or-network"}).toPromise(),i=t?.viewer?.suggestedIssueTypeNames||[];return{name:i?.find(t=>n.SH(t,e))}}}catch{}return null}validateValue(e,t,i){let r=(0,n.M5)(t.value),a=this.legacy?[...d.sS.type.map(({value:e})=>e),i?.name]:[i?.name];return!!(0!==a.length&&r&&a.find(e=>(0,n.SH)(e,r)))&&{value:(0,n.$4)(r)??"",displayName:r}}async processSuggestions(e,t,i,r){if(!this.shouldGetSuggestions(t))return null;let a=(0,n.DS)(t,r),l=await this.fetchSuggestions(a,t)??[];return[...this.legacy?d.sS.type.map(e=>({...e,ariaLabel:`${e.displayName}, ${this.displayName}`})):[],...l.map(t=>i(t,a,e))]}getValueRowProps(e){return{text:e.displayName??(0,n.I8)(e.value)??"",leadingVisual:(0,p.d)({value:e,providerIcon:this.icon})}}processSuggestion(e,t){let{name:i}=e,r=3;return t&&i&&(r-=(0,c.dt)(t,i)),{type:s.ak.Value,displayName:i,ariaLabel:`${i}, ${this.displayName}`,value:(0,n.$4)(i)??"",inlineDescription:!0,priority:r,icon:this.icon}}getRequestVariables(){if(this.repositoryScope){let e=this.repositoryScope.split("/");return{owner:e[0]||"",name:e[1]||""}}if(this.projectScope?.login&&this.projectScope?.projectNumber)return{login:this.projectScope.login,number:this.projectScope.projectNumber}}getRequestDisposable(){if(this.relayEnvironment){if(this.requestVariables&&this.repositoryScope){let e=(0,w.getRequest)(k),t=(0,w.createOperationDescriptor)(e,this.requestVariables);return this.relayEnvironment.retain(t)}if(this.requestVariables&&this.projectScope){let e=(0,w.getRequest)(S),t=(0,w.createOperationDescriptor)(e,this.requestVariables);return this.relayEnvironment.retain(t)}{let e=(0,w.getRequest)(I),t=(0,w.createOperationDescriptor)(e,{});return this.relayEnvironment.retain(t)}}}constructor(e,t=!1,i,r,a=!1,l){super(d._i.type,{...e,filterTypes:{...e?.filterTypes,multiValue:!0}}),this.type=s.CH.Text,this.relayEnvironment=i,this.repositoryScope=r,this.projectScope=l,this.issueTypesEnabled=a,this.requestVariables=this.getRequestVariables(),this.requestDisposable=this.getRequestDisposable(),this.legacy=t}};var N=i(59857);let C={type:s.ak.Value,value:"@me",ariaLabel:"@me, Signed-in user",displayName:"Me",description:"Signed-in user",inlineDescription:!0,priority:1,icon:N.ArrowSwitchIcon,iconColor:"var(--fgColor-done, var(--color-done-fg))"};let BaseUserFilterProvider=class BaseUserFilterProvider extends AsyncFilterProvider{async getSuggestions(e,t,i,r){let a=await this.processSuggestions(e,t,this.processSuggestion.bind(this),r)??[],l=(0,n.DS)(t,r);if(this.showAtMe&&(""===l||(0,v.qA)(l,"@me"))&&(0,n.aK)(t)&&t.value?.values.findIndex(e=>"@me"===e.value)<0){let e=a[0]?.type===s.ak.NoValue;a.splice(e?1:0,0,C)}return a}processSuggestion(e,t){let{login:i,name:r,avatarUrl:a}=e,l=3;return t&&(i&&(l-=.75*(0,c.dt)(t,i)),r&&(l-=.25*(0,c.dt)(t,r))),"@me"===i&&(l=1),{type:s.ak.Value,value:i,ariaLabel:`${i}, ${r}, ${this.displayName}`,description:r,inlineDescription:!0,priority:l,icon:a?void 0:this.icon,avatar:a?{url:a,type:s.uW.User}:void 0}}getMetaSuggestions(e){let t=[];return this.showAtMe&&"@me".startsWith(e)&&t.push(C),t}validateValue(e,t,i){let r=(0,n.M5)(t.value);return"@me"===r?{avatar:this.currentUserAvatarUrl?{url:this.currentUserAvatarUrl,type:s.uW.User}:void 0,value:r}:i&&r?{avatar:i.avatarUrl?{url:i.avatarUrl,type:s.uW.User}:void 0,value:r,displayName:i.name}:!e.context.repo&&!e.context.org&&{value:s.rt}}getValueRowProps(e){return{text:e.displayName??(0,n.I8)(e.value)??"",description:e.description,descriptionVariant:"inline",leadingVisual:(0,p.d)({value:e,providerIcon:this.icon})}}constructor(e,t,i){super(t,i),this.suggestionEndpoint="/_filter/users",this.validationEndpoint="/_filter/users/validate",this.currentUserLogin=e.currentUserLogin,this.currentUserAvatarUrl=e.currentUserAvatarUrl,this.type=s.CH.User,this.showAtMe=e?.showAtMe??!0}};let AssigneeFilterProvider=class AssigneeFilterProvider extends BaseUserFilterProvider{constructor(e,t){super(e,d.yV.assignee,t)}};let AuthorFilterProvider=class AuthorFilterProvider extends BaseUserFilterProvider{constructor(e,t){let i={filterTypes:{multiValue:!1,valueless:!1}};super(e,d.yV.author,{...i,...t,filterTypes:{...i.filterTypes,...t?.filterTypes}})}};let CommenterFilterProvider=class CommenterFilterProvider extends BaseUserFilterProvider{constructor(e,t){super(e,d.yV.commenter,t)}};let InvolvesFilterProvider=class InvolvesFilterProvider extends BaseUserFilterProvider{constructor(e,t){super(e,d.yV.involves,t)}};let MentionsFilterProvider=class MentionsFilterProvider extends BaseUserFilterProvider{constructor(e,t){super(e,d.yV.mentions,t)}};let ReviewedByFilterProvider=class ReviewedByFilterProvider extends BaseUserFilterProvider{constructor(e,t){super(e,d.yV.reviewedBy,t)}};let ReviewRequestedFilterProvider=class ReviewRequestedFilterProvider extends BaseUserFilterProvider{constructor(e,t){super(e,d.yV.reviewRequested,t)}};let UserFilterProvider=class UserFilterProvider extends BaseUserFilterProvider{constructor(e,t){super(e,d.yV.user,t)}};let UserReviewRequestedFilterProvider=class UserReviewRequestedFilterProvider extends BaseUserFilterProvider{constructor(e,t){super(e,d.yV.userReviewRequested,t)}}},34981:(e,t,i)=>{i.d(t,{J:()=>l});var r=i(59857),a=i(28972);let l={type:i(31911).CH.RawText,icon:r.TypographyIcon,options:a.dQ,key:"text",priority:5,displayName:"Text",getSuggestions:()=>[],validateFilterBlockValues:()=>[],getValueRowProps:()=>({text:""})}},37015:(e,t,i)=>{i.d(t,{A:()=>ValueValidator,e:()=>RootFilterProvider});var r=i(28972),a=i(31911),l=i(37932);let RootFilterProvider=class RootFilterProvider{shouldGetSuggestions(e){return e&&e.type!==a._B.Space&&(0,l.Bt)(e,this.options.filterTypes.multiValue)}constructor(e,t){Object.assign(this,e),this.key=e.key,this.icon=e.icon,this.type=a.CH.Text,this.displayName=e.displayName??(0,l.ZH)(e.key),this.options={...r.dQ,priority:e.priority,...t,filterTypes:{...r.dQ.filterTypes,...t?.filterTypes}},this.priority=this.options.priority}};let ValueValidator=class ValueValidator extends RootFilterProvider{validateValue(e,t,i){return!!i&&i}}},31911:(e,t,i)=>{var r,a,l,s,n,o,u,d,c,p,v;i.d(t,{$D:()=>f,BP:()=>g,CH:()=>l,FT:()=>d,_B:()=>p,_W:()=>m,a6:()=>h,ak:()=>r,b:()=>c,b9:()=>s,rt:()=>y,tl:()=>v,uK:()=>x,uW:()=>a});let y="#INDETERMINANT#",h=10,f=5;!function(e){e.Key="key",e.Value="value",e.NoValue=""}(r||(r={})),function(e){e.User="user",e.Org="org",e.Team="team"}(a||(a={})),function(e){e.Select="select",e.User="user",e.Text="text",e.Date="date",e.Number="number",e.Boolean="boolean",e.RawText="rawText",e.Unknown="unknown"}(l||(l={})),function(e){e.Unsupported="unsupported",e.Supported="supported",e.Deprecated="deprecated"}(s||(s={})),function(e){e.Base="base",e.Head="head",e.InBody="inBody",e.InComments="inComments",e.InTitle="inTitle",e.Type="type",e.Language="language",e.Milestone="milestone",e.Sha="sha"}(n||(n={})),function(e){e.Archived="archived",e.Closed="closed",e.Comments="comments",e.Created="created",e.Draft="draft",e.Interactions="interactions",e.Is="is",e.Linked="linked",e.MemexState="memexState",e.Merged="merged",e.PRState="prState",e.Reactions="reactions",e.Reason="reason",e.Review="review",e.Sort="sort",e.State="state",e.Status="status",e.Type="type",e.Updated="updated"}(o||(o={})),function(e){e.Language="language",e.Label="label",e.Milestone="milestone",e.No="no",e.Org="org",e.Project="project",e.Repo="repo",e.Team="team",e.TeamReviewRequested="teamReviewRequested"}(u||(u={})),function(e){e.SuggestionSelected="suggestion-selected",e.DialogSubmit="dialog-submit",e.ExplicitSubmit="explicit-submit"}(d||(d={})),function(e){e.EmptyValue="empty-value",e.InvalidValue="invalid-value",e.MultiValueUnsupported="multi-value-unsupported",e.FilterProviderDeprecated="filter-provider-deprecated",e.FilterProviderUnsupported="filter-provider-unsupported",e.UnbalancedQuotations="unbalanced-quotations",e.UnbalancedParentheses="unbalanced-parentheses"}(c||(c={})),function(e){e.Filter="filter",e.Text="text",e.Space="space",e.Keyword="keyword",e.Group="group"}(p||(p={})),function(e){e.IsOneOf="IsOneOf",e.IsNotOneOf="IsNotOneOf",e.Is="Is",e.IsNot="IsNot",e.GreaterThan="GreaterThan",e.LessThan="LessThan",e.GreaterThanOrEqualTo="GreaterThanOrEqualTo",e.LessThanOrEqualTo="LessThanOrEqualTo",e.EqualTo="EqualTo",e.Before="Before",e.After="After",e.BeforeAndIncluding="BeforeAndIncluding",e.AfterAndIncluding="AfterAndIncluding",e.Between="Between"}(v||(v={}));let m={IsOneOf:"is one of",IsNotOneOf:"is not one of",Is:"is",IsNot:"is not",GreaterThan:"greater than",LessThan:"less than",GreaterThanOrEqualTo:"greater than or equal to",LessThanOrEqualTo:"less than or equal to",EqualTo:"equal to",Before:"before",After:"after",BeforeAndIncluding:"before and including",AfterAndIncluding:"after and including",Between:"between"},g=["GreaterThan","LessThan","GreaterThanOrEqualTo","LessThanOrEqualTo","Before","After","Between"],x={select:{single:["Is","IsNot"],multi:["IsOneOf","IsNotOneOf"]},user:{single:["Is","IsNot"],multi:["IsOneOf","IsNotOneOf"]},text:{single:["Is","IsNot"],multi:["IsOneOf","IsNotOneOf"]},date:["Before","After","BeforeAndIncluding","AfterAndIncluding","Between","IsOneOf","IsNotOneOf"],number:["EqualTo","GreaterThan","GreaterThanOrEqualTo","LessThan","LessThanOrEqualTo","Between"],boolean:["Is","IsNot"],rawText:["Is"],unknown:["Is","IsNot"]}},37932:(e,t,i)=>{i.d(t,{$4:()=>d,Bt:()=>W,DS:()=>O,Di:()=>P,Ed:()=>b,I8:()=>f,Lu:()=>G,M5:()=>m,Nn:()=>E,ON:()=>C,PU:()=>D,SH:()=>p,W5:()=>h,W9:()=>S,Xz:()=>y,ZH:()=>u,aK:()=>k,cU:()=>v,d7:()=>o.d,dV:()=>w,h8:()=>I,he:()=>x,j1:()=>B,jL:()=>R,jQ:()=>g,jh:()=>_,m1:()=>V,n$:()=>A,nV:()=>j,q5:()=>U,sF:()=>T,t4:()=>q,uT:()=>M,v7:()=>N,vU:()=>L,zB:()=>$});var r=i(59857),a=i(98488),l=i(39168),s=i(34981),n=i(31911),o=i(58183);let u=e=>e.charAt(0).toUpperCase()+e.slice(1),d=e=>{if(!e||0>e.indexOf(" "))return e;let t=e;return t.startsWith('"')||(t=`"${t}`),t.endsWith('"')||(t=`${t}"`),t},c=e=>{if(!e||e.replaceAll('"',"").length<1)return e;let t=e;return t.startsWith('"')&&(t=t.substring(1)),t.endsWith('"')&&(t=t.substring(0,t.length-1)),t},p=(e,t)=>!!e&&!!t&&e.toLocaleLowerCase()===t.toLocaleLowerCase(),v=(e,t=-1)=>{if(null===t||t<0)return f(e.at(-1)?.value);for(let i of e)if(w(t,i.startIndex,i.endIndex))return f(i.value);return null},y=e=>e.startsWith("-")?e.slice(1):e,h=(e,t,i)=>`${e}-${t??i}`,f=e=>e?"string"==typeof e?e:e():null,m=e=>{let t=f(e);return t?c(t):t},g=e=>{let t=f(e);return t?d(t):t},x=e=>new Promise(t=>setTimeout(t,e)),b=(e,t)=>e.blocks.map(({raw:e})=>e).join("").trim()===(void 0!==t?t:e.raw).trim(),w=(e,t,i)=>e>=0&&e>=t&&e<=i,k=e=>e.type===n._B.Filter&&void 0!==e.key&&void 0!==e.value,I=e=>void 0!==e.startIndex&&void 0!==e.endIndex,S=e=>e.type===n._B.Group&&void 0!==e.blocks&&void 0!==e.startIndex&&void 0!==e.endIndex,N=e=>e.type===n._B.Filter&&void 0!==e.key&&void 0!==e.value&&void 0!==e.startIndex&&void 0!==e.endIndex,C=e=>e.type===n._B.Text&&void 0!==e.startIndex&&void 0!==e.endIndex,T=e=>e.type===n._B.Filter,F=e=>void 0!==e.single,P=(e,t,i)=>i?e.blocks.filter(e=>k(e)&&e.provider.key===t&&e.value.values.findIndex(e=>e.value===i)>-1):[],j=e=>{let t=n.uK[e?.type??n.CH.Unknown],i=e?.options?.filterTypes.multiValue,r=F(t)?t[i?"multi":"single"]:t;return e?.options?.filterTypes.inclusive===!1&&(r=r.filter(e=>e!==n.tl.Is&&e!==n.tl.IsOneOf)),e?.options?.filterTypes.exclusive===!1&&(r=r.filter(e=>e!==n.tl.IsNot&&e!==n.tl.IsNotOneOf)),r},E=e=>e.type===n.CH.RawText?void 0:{value:e.key,valid:!0},$=(e,t,i)=>{let r=j(e),a=e?.options?.filterTypes.multiValue;if(r[0]){if(t?.startsWith("-"))return r.find(e=>a?e===n.tl.IsNotOneOf:e===n.tl.IsNot)??r[0];if(e?.type===n.CH.Number){if(i?.includes(".."))return r.find(e=>e===n.tl.Between)??r[0];if(i?.startsWith("<="))return r.find(e=>e===n.tl.LessThanOrEqualTo)??r[0];if(i?.startsWith("<"))return r.find(e=>e===n.tl.LessThan)??r[0];if(i?.startsWith(">="))return r.find(e=>e===n.tl.GreaterThanOrEqualTo)??r[0];else if(i?.startsWith(">"))return r.find(e=>e===n.tl.GreaterThan)??r[0]}else if(e?.type===n.CH.Date){if(i?.includes(".."))return r.find(e=>e===n.tl.Between)??r[0];if(i?.startsWith("<="))return r.find(e=>e===n.tl.BeforeAndIncluding)??r[0];if(i?.startsWith("<"))return r.find(e=>e===n.tl.Before)??r[0];if(i?.startsWith(">="))return r.find(e=>e===n.tl.AfterAndIncluding)??r[0];else if(i?.startsWith(">"))return r.find(e=>e===n.tl.After)??r[0]}return r.find(e=>a?e===n.tl.IsOneOf:e===n.tl.Is)??r[0]}return n.tl.Is},A=(e,t)=>{let i=e.key?`${e.key.value}:`:"";switch(e.operator){case n.tl.IsNot:case n.tl.IsNotOneOf:return`${i.startsWith("-")?i:`-${i}`}${e.value?.values.map(e=>g(e.value)).join(t.valueDelimiter)}`;case n.tl.Before:case n.tl.LessThan:return`${i}<${e.value?.raw??""}`;case n.tl.After:case n.tl.GreaterThan:return`${i}>${e.value?.raw?e.value?.raw:""}`;case n.tl.LessThanOrEqualTo:return`${i}<=${e.value?.raw?e.value?.raw:""}`;case n.tl.GreaterThanOrEqualTo:return`${i}>=${e.value?.raw?e.value?.raw:""}`;case n.tl.Between:return`${i}${f(e.value?.values[0]?.value)}..${f(e.value?.values[1]?.value)}`;default:return`${i.startsWith("-")?i.substring(1):i}${e.value?.values.map(e=>g(e.value)).join(t.valueDelimiter)}`}},R=(e,t=r.NoEntryIcon,i=0)=>({displayName:`No ${e.toLocaleLowerCase()}`,ariaLabel:`No ${e}, ${e}`,icon:t,value:"",type:n.ak.NoValue,priority:i}),V=e=>({displayName:e?`Exclude ${e.toLocaleLowerCase()}`:"Exclude",ariaLabel:e?`Exclude ${e.toLocaleLowerCase()}`:"Exclude",value:e?`-${e}`:"-",type:n.ak.Key,priority:1,icon:r.NoEntryIcon}),D=()=>({ariaLabel:"And",value:"AND",type:"keyword",priority:1,icon:r.PlusCircleIcon}),B=()=>({ariaLabel:"Or",value:"OR",type:"keyword",priority:1,icon:r.SkipIcon}),_=e=>{let t=[];for(let i of e)"suggestions"in i?t.push(...i.suggestions):t.push(i);return t},L=e=>{let t=[];for(let i=0;i<e.length;i++){let r=e[i];if(r){if(r.type===n._B.Space)continue;if(r.type===n._B.Text&&e[i-2]?.type===n._B.Text){let e=t.pop();e&&(e.raw+=` ${r.raw}`,e.value={raw:e.raw,values:[{value:e.raw,valid:!0}]},t.push(e))}else if(T(r)){let e=(0,a.A)(r);if(e.operator===n.tl.Between){let t=f(e.value?.values[0]?.value)??"",i=t?.split(".."),r=!!i[0]&&""!==i[0]&&!!i[1]&&""!==i[1];i?.length===2&&(e.value={raw:t,values:[{value:i[0]??"",valid:r},{value:i[1]??"",valid:r}]})}else{let t="";e.value?.values.map(e=>{t+=`,${(f(e.value)??"").replaceAll(/[>|<|>=|<=]/g,"")??""}`}),t=t.slice(1),e.value={values:e.value?.values??[],raw:t}}e.id=t.length,t.push(e)}else t.push({type:n._B.Filter,id:t.length,provider:s.J,raw:r.raw??"",value:{raw:r.raw??"",values:[{value:r.raw??"",valid:!0}]}})}}return t},O=(e,t)=>{let i;return(i=N(e)&&e.value?.values?v(e.value.values,t)??"":k(e)&&e.value?.values?f(e.value.values[0]?.value)??"":e.raw).startsWith('"')&&(i=i.substring(1)),i},M=e=>{let t=k(e)&&e.value?.values?e.value.values:[];return!(t.length>1)&&(1!==t.length||t[0]?.value==="")},W=(e,t=!0)=>k(e)&&(t||e.value.values.length<=1),q=(e,t)=>{if(e.startIndex>t||e.endIndex<t)return[null,null];if(w(t,e.key.startIndex,e.key.endIndex))return["key",e.key];let i=e.value.values.find(e=>w(t,e.startIndex,e.endIndex));return i?["value",i]:[null,null]},G=(e="mixed")=>{let t=[];if("mixed"===e){let e={};for(let t of[...l.sS.memexState,...l.sS.state,...l.sS.prState]){let i=f(t.value),{icon:r,iconColor:a,...l}=t;i&&!e[i]&&(e[i]={...l})}t=Object.values(e)}else t="issues"===e?l.sS.state:"memex"===e?l.sS.memexState:l.sS.prState;return t};function U(e){return e?e.replaceAll("<","&lt;")?.replaceAll(">","&gt;"):e}},53090:(e,t,i)=>{i.d(t,{uW:()=>f.uW,_B:()=>f._B,$D:()=>f.$D,dJ:()=>eD,tl:()=>f.tl,CH:()=>f.CH,n5:()=>eA,ak:()=>f.ak,a6:()=>f.a6,b9:()=>f.b9,FT:()=>f.FT,Xl:()=>eE,dQ:()=>er.dQ});var r=i(74848),a=i(92240),l=i(7707),s=i(75177),n=i(96540),o=i(59857),u=i(75689),d=i(55847),c=i(86079),p=i(46632),v=i(55782),y=i(10162),h=i(34981),f=i(31911),m=i(37932),g=i(30729),x=i(281),b=i(17909);let w=(0,n.forwardRef)(({size:e,filterProviders:t,addNewFilterBlock:i},l)=>{let[s,u]=(0,n.useState)(!1);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(d.Q,{size:e,ref:l,onClick:()=>u(!s),...(0,a.G)("afd-add-filter"),children:[(0,r.jsx)(g.A,{icon:o.PlusIcon,sx:{mr:1,color:"fg.muted"}}),"Add a filter"]}),(0,r.jsx)(x.W,{anchorRef:l,open:s,onOpenChange:u,children:(0,r.jsx)(x.W.Overlay,{sx:{width:"fit-content",whiteSpace:"nowrap"},children:(0,r.jsx)(b.l,{sx:{maxHeight:"320px",overflow:"auto"},...(0,a.G)("afd-add-filter-options"),children:t.map(e=>{let{icon:t}=e;return(0,r.jsxs)(b.l.Item,{onSelect:()=>i(e),role:"menuitem",sx:{":focus:not(:focus-visible)":{outlineStyle:"none"}},children:[t&&(0,r.jsx)(b.l.LeadingVisual,{children:(0,r.jsx)(t,{})}),e.displayName??e.key]},`advanced-filter-add-provider-${e.key}`)})})})})]})});w.displayName="AddFilterButton";let k=({isNarrowBreakpoint:e,addFilterButtonMobileRef:t,filterProviders:i,addNewFilterBlock:l})=>(0,r.jsxs)(s.A,{sx:{display:"flex",flexFlow:"column",margin:"auto",alignSelf:"center",justifyContent:"center",maxWidth:320,height:"100%",flex:1,textAlign:"center",py:8,px:3},...(0,a.G)("afd-no-content"),children:[(0,r.jsx)(s.A,{sx:{fontSize:1,fontWeight:"bold",color:"fg.default",mb:1},children:"Build complex filter queries"}),(0,r.jsx)(s.A,{sx:{fontSize:0,color:"fg.muted"},children:"To start building your query add your first filter using the button below."}),(0,r.jsx)(s.A,{sx:{display:["flex","flex","none"],justifyContent:"center",py:3},children:(0,r.jsx)(w,{size:e?"medium":"small",ref:t,filterProviders:i,addNewFilterBlock:l})})]});try{k.displayName||(k.displayName="BlankState")}catch{}var I=i(69909),S=i(91385);let N={alignContent:"start",bg:"canvas.default",fontSize:0,boxShadow:"unset",textAlign:"left",display:"inline-flex",minWidth:"0",width:["auto","auto","100%"],minHeight:[32,32,28],"> span":{gap:"2px",gridTemplateColumns:"min-content minmax(0,1fr) min-content",flex:1,'span[data-component="text"]':{display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},C=({filterBlock:e,index:t,setFilterOperator:i})=>(0,r.jsxs)(x.W,{children:[(0,r.jsx)(x.W.Anchor,{children:(0,r.jsx)(d.Q,{size:"small",disabled:!e.provider,id:`afd-row-${t}-operator`,"aria-label":`Operator ${t+1}`,sx:N,trailingVisual:()=>(0,r.jsx)(g.A,{icon:o.TriangleDownIcon,sx:{color:"fg.muted"}}),children:e.operator?f._W[e.operator]:f._W[f.tl.Is]})}),(0,r.jsx)(x.W.Overlay,{width:"auto",children:(0,r.jsx)(b.l,{selectionVariant:"single",children:(0,m.nV)(e.provider).map(t=>(0,r.jsx)(b.l.Item,{onSelect:()=>i(t),selected:t===e.operator,children:f._W[t]},`advanced-filter-item-${e.id}-operator-${t}`))})})]});try{C.displayName||(C.displayName="OperatorSelect")}catch{}let T={justifyContent:"space-between",display:"inline-flex",bg:"canvas.default",boxShadow:"unset",fontSize:0,alignContent:"start",textAlign:"left",minWidth:"0",minHeight:[32,32,28],width:["auto","auto","100%"],"> span":{gap:"2px",gridTemplateColumns:"min-content minmax(0,1fr) min-content",flex:1,'span[data-component="text"]':{display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},F=({filterBlock:e,filterProviders:t,index:i,setFilterProvider:a})=>(0,r.jsxs)(x.W,{children:[(0,r.jsx)(x.W.Anchor,{children:(0,r.jsx)(d.Q,{id:`afd-row-${i}-qualifier`,"aria-label":`Qualifier ${i+1}`,className:"advanced-filter-item-qualifier",size:"small",leadingVisual:()=>e?.provider?.icon?(0,r.jsx)(g.A,{icon:e?.provider?.icon,sx:{color:"fg.muted"}}):null,trailingVisual:()=>(0,r.jsx)(g.A,{icon:o.TriangleDownIcon,sx:{color:"fg.muted"}}),sx:T,children:(0,m.sF)(e)?e?.provider?.displayName??e?.provider?.key??"Select a filter":I.A})}),(0,r.jsx)(x.W.Overlay,{sx:{width:"fit-content",whiteSpace:"nowrap"},children:(0,r.jsx)(b.l,{selectionVariant:"single",sx:{maxHeight:"320px",overflow:"auto"},children:t.map((t,i)=>{let{icon:l}=t;return(0,r.jsxs)(b.l.Item,{onSelect:()=>a(t),selected:t.key===e.provider?.key,children:[l&&(0,r.jsx)(b.l.LeadingVisual,{children:(0,r.jsx)(l,{})}),t.displayName??t.key]},`advanced-filter-item-${e.id}-provider-${t.key}-${i}`)})})})]});try{F.displayName||(F.displayName="QualifierSelect")}catch{}var P=i(87330),j=i(14744),E=i.n(j);let $=({ariaLabel:e,onClick:t,sx:i,testId:l=""})=>(0,r.jsx)(P.K,{unsafeDisableTooltip:!0,icon:o.XIcon,size:"small",variant:"invisible","aria-label":e,onClick:t,sx:E()({display:"flex",alignItems:"center",justifyContent:"center"},{...i}),...(0,a.G)(l)});try{$.displayName||($.displayName="RemoveFilterButton")}catch{}var A=i(67269),R=i(44981),V=i(22868),D=i(90305);let B=({filterBlock:e})=>{let t=e.value?.values.filter(e=>e.valid&&""!==e.value)??[];if(0===t.length)return(0,r.jsx)(s.A,{sx:{flex:1,color:"fg.muted"},children:"Make a selection"});let i=e.value?.values?.[0]?.displayName,a=e.value?.values?.[0]?.name,l=e.value?.values?.[0]?.description,n=(0,m.I8)(e.value?.values?.[0]?.value),o=`${t.length} selected`;return 1===t.length&&(o=i??a??l??n),(0,r.jsxs)(s.A,{sx:{display:"flex",flex:1,flexDirection:"row",alignItems:"center"},children:[(0,r.jsx)(_,{filterBlock:e}),o]})},_=({filterBlock:e})=>{if(!e.value?.values||e.value.values.length<1)return null;if(e.provider?.type===f.CH.User){let t=[];for(let i of e.value?.values??[]){let a=i?.avatar?.url??i?.avatarUrl;a&&t.push((0,r.jsx)(V.r,{src:a,size:16,alt:i.displayName??(0,m.I8)(i.value)??""},`${e.provider.key}-${e.id}-avatar-${(0,m.I8)(i.value)}`))}if(t.length>0)return(0,r.jsx)(D.A,{disableExpand:!0,size:16,sx:{mr:1,img:{transition:"unset !important"}},children:t})}if(e.value?.values?.length===1){let t=e.provider?.filterValues?.find(t=>t.value===e.value?.values?.[0]?.value);if(t?.icon)return(0,r.jsx)(g.A,{icon:t.icon,sx:{color:"fg.muted",mr:1}})}return null};try{B.displayName||(B.displayName="ValuePlaceholder")}catch{}try{_.displayName||(_.displayName="ValuePlaceholderIcon")}catch{}let L={alignContent:"start",justifyContent:"space-between",bg:"canvas.default",fontSize:0,boxShadow:"unset",textAlign:"left",display:"inline-flex",width:["auto","auto","calc(100% - 8px)"],minHeight:[32,32,28],"> span":{gap:"2px",gridTemplateColumns:"min-content minmax(0,1fr) min-content",flex:1,'span[data-component="text"]':{display:"inline-flex",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},O=({filterBlock:e,setFilterValues:t})=>(0,r.jsxs)(x.W,{children:[(0,r.jsx)(x.W.Anchor,{children:(0,r.jsx)(d.Q,{size:"small",sx:L,trailingVisual:()=>(0,r.jsx)(g.A,{icon:o.TriangleDownIcon,sx:{color:"fg.muted"}}),...(0,a.G)("afd-row-value-select-boolean-button"),children:(0,r.jsx)(B,{filterBlock:e})})}),(0,r.jsx)(x.W.Overlay,{children:(0,r.jsxs)(b.l,{selectionVariant:"single",...(0,a.G)("afd-row-value-select-list"),children:[(0,r.jsx)(b.l.Item,{onSelect:()=>t(!0),selected:void 0===(0,m.I8)(e.value?.values[0]?.value)||"true"===(0,m.I8)(e.value?.values[0]?.value),children:"True"}),(0,r.jsx)(b.l.Item,{onSelect:()=>t(!1),selected:"false"===(0,m.I8)(e.value?.values[0]?.value),children:"False"})]})})]});try{O.displayName||(O.displayName="BooleanValueSelect")}catch{}let M=e=>e&&[f.CH.Select,f.CH.User].includes(e),W=e=>e&&e===f.CH.Date,q=e=>e&&[f.CH.Number,f.CH.Date,f.CH.Text].includes(e),G={bg:"canvas.default",display:"inline-flex",fontSize:0,minHeight:[32,32,28],boxShadow:"unset",width:["auto","auto","100%"],textAlign:"left",minWidth:"0","> span":{gridTemplateColumns:"min-content minmax(0,1fr) min-content",flex:1,div:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},U=({filterBlock:e,setValuesFilter:t,setFilterValues:i,setFilterFrom:l,setFilterText:u,setFilterTo:c,valueElements:p,index:v,selectedFilteredValues:y})=>{let[h,x]=(0,n.useState)(!1);(0,n.useEffect)(()=>{h||t("")},[h,t]);let b=(0,n.useMemo)(()=>({renderAnchor:({...t})=>(0,r.jsx)(d.Q,{...t,id:`afd-row-${v}-value`,size:"small",alignContent:"start",disabled:!e.operator,"aria-label":`Value ${v+1}`,className:"advanced-filter-item-value",trailingVisual:()=>(0,r.jsx)(g.A,{icon:o.TriangleDownIcon,sx:{color:"fg.muted"}}),sx:G,...(0,a.G)("afd-row-value-select-button"),children:(0,r.jsx)(s.A,{sx:{display:"flex",gap:1,alignItems:"center"},children:(0,r.jsx)(B,{filterBlock:e})})}),placeholderText:"Filter values",open:h,onOpenChange:x,items:p,onFilterChange:t,showItemDividers:!1,overlayProps:{width:"small",sx:{maxHeight:["50vh","50vh","300px"]}},...(0,a.G)("afd-row-value-select")}),[h,p,t,v,e]);if(M(e.provider?.type))return Array.isArray(y),(0,r.jsx)(A.X,{...b,selected:y,onSelectedChange:i});if(e.provider?.type===f.CH.Boolean)return(0,r.jsx)(O,{filterBlock:e,setFilterValues:i});if(q(e.provider?.type)){if(e.operator===f.tl.Between)return(0,r.jsx)(H,{index:v,fromValue:(0,m.I8)(e.value?.values[0]?.value)??"",toValue:(0,m.I8)(e.value?.values[1]?.value)??"",setFromValue:l,setToValue:c});let t=W(e.provider?.type)?"YYYY-MM-DD":`Enter a ${e.provider?.type.toString().toLowerCase()??"value"}`,i=e.provider?.type===f.CH.Number?"number":"text";return(0,r.jsx)(R.A,{"aria-label":`Value ${v+1}`,size:"small",type:i,value:e.value?.raw,onChange:u,sx:{py:"2px","> input":{px:2,fontSize:0},minHeight:[32,32,28]},placeholder:t,...(0,a.G)(`afd-row-${v}`)})}return(0,r.jsx)(R.A,{"aria-label":`Value ${v+1}`,size:"small",value:e.value?.raw,onChange:u,sx:{py:"2px","> input":{px:2,fontSize:0},minHeight:[32,32,28]},placeholder:"Enter search text",...(0,a.G)(`afd-row-${v}`)})},H=({index:e,fromValue:t,toValue:i,setFromValue:l,setToValue:n})=>(0,r.jsxs)(s.A,{sx:{display:"flex",gap:"2px",alignItems:"center"},children:[(0,r.jsx)(R.A,{"aria-label":`Value ${e+1} From`,size:"small",value:t,onChange:l,sx:{py:"2px","> input":{px:2,fontSize:0}},placeholder:"From",...(0,a.G)(`afd-row-${e}-from`)}),(0,r.jsx)("span",{children:"-"}),(0,r.jsx)(R.A,{"aria-label":`Value ${e+1} To`,size:"small",value:i,onChange:n,sx:{py:"2px","> input":{px:2,fontSize:0}},placeholder:"To",...(0,a.G)(`afd-row-${e}-to`)})]});try{U.displayName||(U.displayName="ValueSelect")}catch{}try{H.displayName||(H.displayName="BetweenFilterInputs")}catch{}let K=({index:e,filterBlock:t,filterProviders:i,updateFilterBlock:l,deleteFilterBlock:o})=>{let{config:u}=(0,y.U2)(),{filterQuery:d}=(0,y.g0)(),[c,p]=(0,n.useState)(t.provider?.filterValues??[]),[v,g]=(0,n.useState)(""),x=(0,n.useMemo)(()=>(0,m.sF)(t)?c.filter(e=>!(v.length>0)||(0,S.qA)(v,(0,m.I8)(e.value)??"")||(0,S.qA)(v,e.displayName??"")):[],[t,v,c]),b=(0,n.useMemo)(()=>{let e=Array.from(i);return t.provider&&!i.find(e=>e.key===t.provider?.key)&&e.push(t.provider),e.sort((e,t)=>(e.displayName??e.key)?.localeCompare(t.displayName??t.key)??0)},[t.provider,i]),w=(0,n.useCallback)(e=>e?t.value?.values?.findIndex(t=>{let i=m.I8(t.value),r=(i?.startsWith("@")?i.substring(1):i)??"";return m.SH(e,t.displayName)||m.SH(e,r)})??-1:-1,[t.value?.values]),k=(0,n.useMemo)(()=>x?.map(e=>{let i=t.provider?.getValueRowProps(e);return{...i,leadingVisual:i?.leadingVisual?()=>i.leadingVisual:void 0,trailingVisual:i?.trailingVisual?()=>i.trailingVisual:void 0}})??[],[t.provider,x]),N=(0,n.useMemo)(()=>{let e=k.filter(e=>w(e.text)>=0);return t.provider?.options?.filterTypes.multiValue?e:e[0]},[t.provider?.options?.filterTypes.multiValue,w,k]),T=(0,n.useCallback)(e=>{if(e.type!==f.CH.RawText){let i=t.provider?.type===f.CH.RawText&&e.type===f.CH.Text,r=e.type===t.provider?.type||i?t.value:{raw:"",values:[]};l({...t,key:{value:e.key,valid:!0},provider:e,operator:(0,m.nV)(e)[0],value:r})}else{let e=t.provider?.type===f.CH.Text&&t.value?t.value:{raw:"",values:[]};l({...t,key:void 0,provider:h.J,operator:(0,m.nV)(h.J)[0],raw:e.raw,value:e})}},[t,l]),P=(0,n.useCallback)(e=>{let i={};if(t.value&&!f.BP.includes(e)){let e=[];i={value:{values:t.value.values.map(t=>{let i=m.M5(t.value)?.replace(/^[<>]=?/g,"").replaceAll("..","")??"";return e.push(i),{...t,value:i}})??[],raw:e.join(u.valueDelimiter)}}}l({...t,operator:e,...i})},[u.valueDelimiter,t,l]),j=(0,n.useCallback)(e=>{let i=[];if(void 0===e)i=[];else if("boolean"==typeof e)i=[{value:e.toString(),displayName:(0,m.ZH)(e.toString())}];else if(t.provider?.options?.filterTypes.multiValue){let r=t.value?.values.filter(e=>!S.qA(v,m.I8(e.value)??"")&&!S.qA(v,e.displayName??""));for(let t of(r&&(i=r),e)){let e=c.find(e=>e.displayName===t.text||e.value===t.text);e&&i.push(e)}}else{let t=e.text,r=c.find(e=>e.displayName===t||e.value===t);if(void 0===r)return;i=[r]}i=i.filter(e=>e.value.length>0),l({...t,value:{...t.value,raw:i.map(e=>(0,m.I8)(e.value)).join(u.valueDelimiter),values:i.map(e=>({...e,valid:!0}))}})},[u.valueDelimiter,t,l,c,v]),E=(0,n.useCallback)(e=>{let i=[{value:e.target.value,valid:!0},t.value?.values?.[1]??{value:"",valid:!0}],r=`${(0,m.I8)(i[0]?.value)}..${(0,m.I8)(i[1]?.value)}`;l({...t,value:{values:i,raw:r}})},[t,l]),A=(0,n.useCallback)(e=>{let i=[t.value?.values?.[0]??{value:"",valid:!0},{value:e.target.value,valid:!0}],r=`${(0,m.I8)(i[0]?.value)}..${(0,m.I8)(i[1]?.value)}`;l({...t,value:{values:i,raw:r}})},[t,l]),R=(0,n.useCallback)(e=>{l({...t,value:{values:[{value:e.target.value,valid:!0}],raw:e.target.value}})},[t,l]);return(0,n.useEffect)(()=>{(async()=>{if(t.provider){let e=await t.provider.getSuggestions(d,{...t,value:{values:[{value:v,valid:!0}],raw:v}},u);p(e?e.filter(e=>e.type!==f.ak.NoValue&&!e.displayName?.startsWith("Exclude")):[])}})()},[u,t,t.provider,d,v]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.A,{as:"fieldset",className:`advanced-filter-item-${e}`,sx:{display:["flex","flex","contents"],bg:["canvas.default","canvas.default","transparent"],borderRadius:"12px",borderColor:"border.default",borderWidth:[1,1,0],borderStyle:"solid",overflow:"hidden",boxShadow:["shadow.small","shadow.small","none"]},...(0,a.G)("afd-filter-row"),children:[(0,r.jsx)(s.A,{as:"legend",sx:{border:0,clip:"rect(0 0 0 0)",height:"1px",overflow:"hidden",position:"absolute",width:"1px"},children:(0,r.jsx)("h2",{children:`Row ${e+1}`})}),(0,r.jsx)(I.A,{sx:{textAlign:"right",fontSize:0,color:"fg.muted",pr:2,display:["none","none","block"]},children:e+1}),(0,r.jsxs)(s.A,{sx:{display:["flex","flex","contents"],p:[2,2,0],width:"100%"},children:[(0,r.jsxs)(s.A,{sx:{display:["flex","flex","contents"],flexWrap:"wrap",flex:1,columnGap:2,rowGap:2,px:[2,2,0],pt:[2,2,0],pb:[3,3,0]},children:[(0,r.jsxs)(s.A,{sx:{display:["inline-flex","inline-flex","contents"],flexDirection:"column"},children:[(0,r.jsx)(I.A,{sx:{fontSize:0,fontWeight:"semibold",color:"fg.muted",pb:1,display:["block","block","none"]},children:"Qualifier"}),(0,r.jsx)(F,{filterBlock:t,index:e,filterProviders:b,setFilterProvider:T})]}),(0,r.jsxs)(s.A,{sx:{display:["inline-flex","inline-flex","contents"],flexDirection:"column"},children:[(0,r.jsx)(I.A,{sx:{fontSize:0,fontWeight:"semibold",color:"fg.muted",pb:1,display:["block","block","none"]},children:"Operator"}),(0,r.jsx)(C,{setFilterOperator:P,filterBlock:t,index:e})]}),(0,r.jsxs)(s.A,{sx:{display:["inline-flex","inline-flex","contents"],flexDirection:"column"},children:[(0,r.jsx)(I.A,{sx:{fontSize:0,fontWeight:"semibold",color:"fg.muted",pb:1,display:["block","block","none"]},children:"Value"}),(0,r.jsx)(U,{filterBlock:t,index:e,setValuesFilter:g,valueElements:k,selectedFilteredValues:N,setFilterValues:j,setFilterFrom:E,setFilterText:R,setFilterTo:A})]}),(0,r.jsx)($,{onClick:()=>o(e),sx:{mr:"2px",display:["none","none","block"]},ariaLabel:`Delete filter ${e+1}: ${t.provider?.displayName??t.provider?.key}, ${t.operator}, ${t.value?.raw}`,testId:`afd-filter-row-delete-${e}`})]}),(0,r.jsxs)(s.A,{sx:{display:["flex","flex","none"],fontSize:0,flexDirection:"column",justifyContent:"space-between",fontWeight:"semibold",alignItems:"center"},children:[(0,r.jsx)("div",{children:(0,r.jsx)($,{onClick:()=>o(e),ariaLabel:`Delete filter ${e+1}: ${t.provider?.displayName??t.provider?.key}, ${t.operator}, ${t.value?.raw}`})}),(0,r.jsx)(s.A,{sx:{flex:1,bg:"canvas.subtle",minWidth:30,maxHeight:20,display:"flex",borderRadius:10,borderColor:"border.muted",borderStyle:"solid",borderWidth:1,color:"fg.muted",fontSize:10,justifyContent:"center",alignItems:"center"},children:e+1})]})]})]}),(0,r.jsx)(s.A,{sx:{display:["flex","flex","none"],justifyContent:"center"},children:(0,r.jsx)(s.A,{sx:{width:2,height:16,bg:"border.default"}})})]})};try{K.displayName||(K.displayName="AdvancedFilterItem")}catch{}let Q={display:["none","none","contents"],py:1,fontWeight:500,color:"fg.muted",position:"relative",height:"28px",fontSize:0},z={flexDirection:"column",justifyContent:"center",height:"28px",display:"inline-flex",zIndex:1},X={bg:"canvas.subtle",borderColor:"border.default",borderStyle:"solid",borderTopWidth:1,borderLeftWidth:0,borderRightWidth:0,borderBottomWidth:1,position:"absolute",height:"28px",top:0,left:0,right:0},Y=({filterBlocks:e,filterProviders:t,updateFilterBlock:i,deleteFilterBlock:a,isNarrowBreakpoint:l,addFilterButtonMobileLastRowRef:n,addNewFilterBlock:o})=>(0,r.jsxs)(s.A,{sx:{alignItems:"center",rowGap:[0,0,3],columnGap:2,display:"grid",gridTemplateColumns:["1fr","1fr","min-content auto minmax(80px, auto) minmax(30%,auto) min-content"],gridTemplateRows:"min-content",width:"100%"},children:[(0,r.jsxs)(s.A,{sx:Q,children:[(0,r.jsx)(s.A,{sx:X}),(0,r.jsx)(s.A,{sx:z}),(0,r.jsx)(I.A,{sx:z,children:"Qualifier"}),(0,r.jsx)(I.A,{sx:{...z},children:"Operator"}),(0,r.jsx)(I.A,{sx:z,children:"Value"}),(0,r.jsx)("div",{})]}),e.map((e,l)=>(0,r.jsx)(K,{filterBlock:e,filterProviders:t,updateFilterBlock:i,index:l,deleteFilterBlock:a},`advanced-filter-item-${l}`)),(0,r.jsx)(s.A,{sx:{display:["grid","grid","none"],pb:[3,3,0]},children:(0,r.jsx)(w,{size:l?"medium":"small",ref:n,filterProviders:t,addNewFilterBlock:o})})]});try{Y.displayName||(Y.displayName="FilterList")}catch{}let J=e=>e.map((e,t)=>({...e,id:t})),Z=(0,p.A)(e=>(t,i)=>i.map(t=>{let i=(0,m.n$)(t,e);return t.raw===i?t:{...t,raw:i}})),ee=({filterButtonVariant:e="normal",isStandalone:t=!1})=>{let{config:i}=(0,y.U2)(),{filterQuery:p,filterProviders:g,updateFilter:x}=(0,y.g0)(),{hideSuggestions:b}=(0,y.Pt)(),[I,S]=(0,n.useState)(!1),N=(0,n.useRef)(null),C=(0,n.useRef)(null),T=(0,n.useRef)(null),F=(0,n.useRef)(null),P=(0,l.tv)({regular:!1,narrow:!0},!1),j=(0,m.vU)(p.blocks),E=Z(i),[$,A]=(0,n.useReducer)(E,j),[R,V]=(0,n.useState)(!1),D=(0,u.S)(),B=(0,n.useCallback)(async()=>!R||await D({...v.D.advancedFilterDialogCloseConfirmation,confirmButtonType:"danger"}),[D,R]),_=(0,n.useMemo)(()=>{let e=Object.values(g).filter(e=>(e.options.filterTypes.multiKey||$.filter(t=>(0,m.sF)(t)&&t.provider?.key===e.key).length<1)&&e.options.support.status===f.b9.Supported);return i.disableAdvancedTextFilter&&"button"===i.variant||e.push(h.J),e.sort((e,t)=>e.key?.localeCompare(t.displayName??"")??0)},[i.disableAdvancedTextFilter,i.variant,$,g]),L=(0,n.useCallback)(()=>{A(j),V(!1)},[j]),O=(0,n.useCallback)(e=>{A([...$,{id:$.length,type:f._B.Filter,provider:e,key:(0,m.Nn)(e),operator:(0,m.nV)(e)[0],value:{raw:"",values:[{value:"",valid:!0}]}}]),V(!0),setTimeout(()=>{let e=document.querySelectorAll(".advanced-filter-item-qualifier");e[e.length-1]?.focus()},10)},[$]),M=(0,n.useCallback)(e=>{V(!0),A($.map(t=>t.id===e.id?e:t))},[$]),W=(0,n.useCallback)(e=>{let t;let i=$.filter((t,i)=>i!==e);A(J(i)),t=P?i.length>0?F:T:C,setTimeout(()=>t.current?.focus(),20)},[$,P]),q=(0,n.useCallback)(()=>{L(),b(),S(!0)},[b,L]),G=(0,n.useCallback)(async e=>{(e||await B())&&(S(!1),L(),setTimeout(()=>{N.current?.focus()},20))},[B,L]),U=(0,n.useCallback)(async()=>{let e=$.map(({raw:e})=>e).join(" ");x(e,e.length,void 0,f.FT.DialogSubmit),await G(!0)},[G,$,x]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.Q,{ref:N,sx:{borderRadius:2,borderTopRightRadius:t?2:0,borderBottomRightRadius:t?2:0,marginInlineEnd:t?0:-1,boxShadow:"none",zIndex:1},onClick:q,...(0,a.G)("advanced-filter-button"),"aria-label":"Advanced filter dialog",leadingVisual:o.FilterIcon,count:p.filterCount>0?p.filterCount:void 0,children:"normal"===e&&"Filter"}),I&&(0,r.jsx)(c.l,{onClose:()=>G(),role:"dialog",title:"Advanced filters",position:{narrow:"fullscreen",regular:"center"},renderFooter:()=>(0,r.jsxs)(s.A,{sx:{borderTop:"1px solid",borderTopColor:"border.default",p:3,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,r.jsx)(s.A,{sx:{display:["none","none","block"]},children:(0,r.jsx)(w,{size:P?"medium":"small",ref:C,filterProviders:_,addNewFilterBlock:O})}),(0,r.jsxs)(s.A,{sx:{width:"100%",display:["grid","grid","flex"],gridTemplateColumns:"1fr 1fr",justifyContent:"flex-end",gap:2},children:[(0,r.jsx)(d.Q,{size:P?"medium":"small",onClick:()=>G(),...(0,a.G)("afd-cancel"),children:"Cancel"}),(0,r.jsx)(d.Q,{size:P?"medium":"small",variant:"primary",onClick:U,...(0,a.G)("afd-apply"),children:"Apply"})]})]}),renderBody:()=>(0,r.jsxs)(s.A,{className:"advanced-filter-dialog-content",sx:{pr:[3,3,2],pt:[3,3,$.length<1?3:0],pl:3,pb:3,overflowY:"auto",display:"flex",overflowX:"hidden",height:["100%","100%","auto"],maxHeight:["100vh","100vh","60vh"],position:"relative",bg:["canvas.subtle","canvas.subtle","canvas.default"]},...(0,a.G)("advanced-filter-dialog-content"),children:[(0,r.jsx)("div",{id:"__primerPortalRoot__",style:{zIndex:10,position:"absolute",width:"100%"}}),(0,r.jsxs)(s.A,{sx:{display:"flex",alignItems:"flex-start",width:"100%"},children:[$.length<1&&(0,r.jsx)(k,{isNarrowBreakpoint:P,addFilterButtonMobileRef:T,filterProviders:_,addNewFilterBlock:O}),$.length>0&&(0,r.jsx)(Y,{addFilterButtonMobileLastRowRef:F,addNewFilterBlock:O,deleteFilterBlock:W,filterBlocks:$,filterProviders:_,isNarrowBreakpoint:P,updateFilterBlock:M})]})]})})]})};try{ee.displayName||(ee.displayName="AdvancedFilterDialog")}catch{}let et={clearButton:"ClearButton-module__clearButton--KL73f"},ei=(0,n.memo)(()=>{let{suspendFocus:e}=(0,y.Ge)(),{rawFilterRef:t,clearFilter:i}=(0,y.g0)();if(t?.current.length!==0)return(0,r.jsx)(P.K,{...(0,a.G)("filter-clear-query"),as:"button",className:et.clearButton,"aria-label":"Clear filter",onMouseDown:t=>e(t.currentTarget),onKeyDown:t=>e(t.currentTarget),onClick:()=>i(),icon:o.XCircleFillIcon,variant:"invisible",size:"small"})});ei.displayName="ClearButton";var er=i(28972),ea=i(21468),el=i(58735);let es=()=>(0,r.jsx)(s.A,{sx:{textAlign:"center",display:"flex",flexDirection:"row",justifyItems:"flex-start"},children:(0,r.jsx)(g.A,{icon:o.SearchIcon,"aria-label":"Search",sx:{ml:"4px",mr:2,color:"fg.muted"}})});try{es.displayName||(es.displayName="FilterInputIcon")}catch{}let en=({children:e,isStandalone:t=!1})=>t?(0,r.jsx)(s.A,{...(0,a.G)("filter-bar"),sx:{display:"inline-flex"},children:e}):(0,r.jsx)(s.A,{...(0,a.G)("filter-bar"),sx:{display:"inline-flex",width:"100%",maxWidth:"100%",color:"fg.default",verticalAlign:"middle",fontSize:1,position:"relative",cursor:"text",bg:"canvas.default",alignItems:"center"},children:e});try{en.displayName||(en.displayName="FilterInputWrapper")}catch{}var eo=i(51012);let eu=({text:e})=>(0,r.jsx)("span",{className:"text-block",children:e}),ed=({text:e})=>(0,r.jsx)("span",{className:"delimiter space-delimiter",children:e}),ec=({delimiter:e})=>(0,r.jsx)("span",{className:"delimiter",children:e}),ep={color:"done.fg",borderRadius:1},ev=({keyword:e})=>(0,r.jsx)(I.A,{className:"keyword-block",sx:ep,children:e}),ey=({text:e,styles:t})=>(0,r.jsx)(s.A,{as:"span","data-type":"filter",sx:t,children:e});try{eu.displayName||(eu.displayName="TextBlock")}catch{}try{ed.displayName||(ed.displayName="SpaceBlock")}catch{}try{ec.displayName||(ec.displayName="Delimiter")}catch{}try{ev.displayName||(ev.displayName="KeywordBlock")}catch{}try{ey.displayName||(ey.displayName="KeyBlock")}catch{}let eh={color:"accent.fg",bg:"accent.subtle",borderRadius:1},ef={color:"done.fg",bg:"done.subtle",borderRadius:1},em={color:"attention.fg",bg:"attention.subtle",borderRadius:1},eg=[f.tl.GreaterThan,f.tl.LessThan,f.tl.Before,f.tl.After],ex=[f.tl.GreaterThanOrEqualTo,f.tl.LessThanOrEqualTo,f.tl.BeforeAndIncluding,f.tl.AfterAndIncluding],eb=()=>{let{config:e}=(0,y.U2)(),{inputFocused:t,updateStyledInputBlockCount:i}=(0,y.Ge)(),{rawFilterRef:a,filterQuery:l,isInitialValidation:o}=(0,y.g0)(),u=(0,n.useRef)([]),d=(e,i,a)=>{let{id:n,key:u,operator:d}=e,{value:c,valid:p}=i,v={};if(o)v={};else if(p){let e=0;eg.includes(d)?e=1:ex.includes(d)&&(e=2),v=m.I8(c)?.charAt(e)==="@"?ef:eh}else void 0===p||(!1!==p||l.activeBlock?.id===n)&&t||(v=em);return(0,r.jsx)(s.A,{as:"span","data-type":"filter-value",className:p?"valid-filter-value":"invalid-filter-value",sx:v,children:(0,m.I8)(c)},`filter-block-${a}-${u.value}-${(0,m.I8)(c)}`)},c=(0,n.useMemo)(()=>{let i=[];return(0,m.Ed)(l,a?.current)?(!function a(s,n){for(let[o,u]of s.entries()){let s;if((0,m.aK)(u)){let{key:i,operator:a,value:n}=u,c=!1!==i.valid||l.activeBlock?.id===u.id&&t?{}:em,p=(0,r.jsx)(ey,{styles:c,text:i.value},`filter-key-${o}`),v=(0,r.jsx)(ec,{delimiter:e.filterDelimiter},`filter-${o}-delimiter`),y=[];if(a===f.tl.Between){let e=n.values[0],t=n.values[1];e&&y.push(d(u,e,o)),y.push((0,r.jsx)("span",{className:"delimiter",children:".."},`filter-block-${o}-${i.value}-delimiter-1`)),t&&y.push(d(u,t,o))}else y=n.values.map((t,a)=>(0,r.jsxs)("span",{children:[a>0&&(0,r.jsx)("span",{className:"delimiter",children:e.valueDelimiter},`filter-block-${o}-${i.value}-delimiter-${a}`),d(u,t,o)]},`filter-block-${o}-values-${i.value}-${(0,m.I8)(t.value)}`));s=(0,r.jsxs)("span",{"data-type":"filter-expression",children:[p,v,y]},`filter-block-${o}-${i.value}-${o}`)}else u.type===f._B.Space?s=(0,r.jsx)(ed,{text:u.raw},`space-block-${n}-${o}`):u.type===f._B.Keyword?s=(0,r.jsx)(ev,{keyword:u.raw},`keyword-block-${n}-${o}`):(0,m.W9)(u)?(i.push((0,r.jsx)(eu,{text:"("},`text-open-${n}-${o}`)),a(u.blocks,n?`${n}-${o}`:`${o}`),i.push((0,r.jsx)(eu,{text:")"},`text-close-${n}-${o}`))):s=(0,r.jsx)(eu,{text:u.raw},`text-block-${n}-${o}`);i.push(s)}}(l.blocks,"root"),u.current=i,i):u.current},[l.raw,l.blocks,l.activeBlock,l.isValidated,t,e.filterDelimiter,e.valueDelimiter]);return(0,n.useEffect)(()=>{i(c.length)},[c.length,i]),(0,r.jsx)(r.Fragment,{children:0===c.length?a?.current:c})};try{eb.displayName||(eb.displayName="StyledInput")}catch{}let ew=({id:e,hasValidationMessage:t=!1,placeholder:i="Search or filter",onKeyDown:l})=>{let{suggestionsVisible:o,activeSuggestion:u}=(0,y.Pt)(),{caretRef:d,inputFocused:c,inputKeyDown:p,inputOnBlur:v,inputOnCompositionStart:h,inputOnCompositionEnd:f,inputOnChange:m,inputOnFocus:g,inputRef:x,inputSelectionEnd:b,inputSelectionStart:w,inputValue:k,updateInputSelection:I}=(0,y.Ge)(),S=(0,n.useRef)(null),[N,C]=(0,n.useState)(0),T=(0,n.useRef)(null),F=(0,n.useCallback)(e=>{I(e.selectionStart??0,e.selectionEnd??0)},[I]),P=(0,n.useCallback)(e=>{F(e.currentTarget),p(e),l?.(e)},[F,p,l]),j=(0,n.useCallback)(e=>{F(e.currentTarget)},[F]),E=(0,n.useMemo)(()=>{let e=Math.max((S.current?.scrollWidth??0)+2,100);return`${e}px`},[w,S.current?.scrollWidth,k]);(0,eo.N)(()=>{let e=d.current,t=T.current;e&&t&&(e.offsetLeft<N?C(e.offsetLeft-t.clientWidth-100):e.offsetLeft>N+t.clientWidth?C(e.offsetLeft-t.clientWidth+100):t.scrollLeft=N)},[d,N,w,k]);let $=(0,n.useMemo)(()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{children:w?k.substring(0,w):k}),(0,r.jsx)("span",{...(0,a.G)("filter-cursor"),ref:d}),(0,r.jsx)("span",{children:w&&k.substring(w)})]}),[d,w,k]);return(0,n.useEffect)(()=>{x.current&&w>-1&&c&&(x.current.selectionStart=w,x.current.selectionEnd=b)},[x,w,b,k]),(0,r.jsxs)(s.A,{...(0,a.G)("styled-input-container"),ref:T,tabIndex:-1,className:"styled-input-container",sx:{position:"relative",display:"flex",overflowX:"auto",overflowY:"hidden",fontSize:"inherit",alignItems:"center",scrollbarWidth:"none",flex:1,alignSelf:"stretch","&::-webkit-scrollbar":{display:"none"}},children:[(0,r.jsx)(s.A,{...(0,a.G)("styled-input-content"),"aria-hidden":"true",className:"styled-input-content",sx:{position:"absolute",display:"inline-flex",padding:0,wordBreak:"break-word",whiteSpace:"pre",userSelect:"none",flex:1},children:(0,r.jsx)(eb,{})}),(0,r.jsxs)(s.A,{...(0,a.G)("filter-input-wrapper"),sx:{height:"30px",width:"100%",alignSelf:"stretch"},children:[(0,r.jsx)(s.A,{...(0,a.G)("filter-sizer"),ref:S,"aria-hidden":"true",sx:{position:"absolute",top:0,left:0,height:0,overflow:"scroll",whiteSpace:"pre",visibility:"hidden"},children:$}),(0,r.jsx)(s.A,{id:`${e}-input`,as:"input",role:"combobox","aria-expanded":o,"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":`${e}-results`,"aria-activedescendant":null!==u&&-1!==u&&o?`suggestion-${u}`:void 0,"aria-describedby":t?`${e}-validation-message`:"",placeholder:i,ref:x,value:k,onFocus:g,onBlur:v,onCompositionStart:h,onCompositionEnd:f,onKeyDown:P,onClick:j,onChange:m,name:`${e}-inputname`,autoComplete:"off",spellCheck:"false",sx:{height:"30px",width:E,position:"relative",display:"flex",minWidth:"100%",p:0,overflowX:"auto",overflowY:"hidden",color:"transparent",resize:"none",background:"transparent",border:0,caretColor:"var(--fgColor-default, var(--color-fg-default))",":focus":{outline:"none",boxShadow:"none !important"}},...(0,a.G)("filter-input")})]})]})};try{ew.displayName||(ew.displayName="Input")}catch{}let ek=()=>{let{onSubmit:e}=(0,y.g0)();return(0,r.jsx)(P.K,{"aria-label":"Search",size:"medium",icon:o.SearchIcon,variant:"default",onClick:()=>e(f.FT.ExplicitSubmit),sx:{color:"fg.muted",borderTopLeftRadius:0,borderBottomLeftRadius:0,flexShrink:0,boxShadow:"none",":focus":{zIndex:1}}})};try{ek.displayName||(ek.displayName="SubmitButton")}catch{}var eI=i(97564),eS=i(92979),eN=i(59299),eC=i(22084);let eT={item:"SuggestionItem-module__item--hWolC"},eF=e=>{let{suggestionId:t,active:i,icon:a,iconColor:l,value:o,avatar:u,displayName:d,ariaLabel:c}=e,{suggestionSelected:p,activeSuggestionRef:v}=(0,y.Pt)(),{inputRef:h}=(0,y.Ge)(),f=(0,n.useCallback)(()=>{p(e),h.current?.focus()},[h,e,p]),x=(0,n.useCallback)(e=>{i&&e?(v.current=e,e.scrollIntoView({block:"nearest"})):v.current=null},[i,v]);return(0,r.jsxs)(b.l.Item,{id:`suggestion-${t}`,onSelect:f,active:i,role:"option","aria-label":c,"aria-selected":i,tabIndex:-1,"aria-labelledby":void 0,ref:x,className:eT.item,children:[(a||l||u)&&(0,r.jsx)(b.l.LeadingVisual,{children:(0,r.jsxs)(s.A,{sx:{minWidth:"20px",display:"flex",alignContent:"center",justifyContent:"center"},children:[a?(0,r.jsx)(g.A,{icon:a,sx:{fill:l??"currentcolor"}}):l?(0,r.jsx)(s.A,{sx:{backgroundColor:l,borderRadius:9,width:"10px",height:"10px"}}):null,u&&(0,r.jsx)(V.r,{src:u.url,alt:(0,m.I8)(o)??"User Avatar",square:!1,sx:{minWidth:"20px"}})]})}),(0,r.jsx)(eC.yx,{sx:{fontWeight:e.description?600:400,"> img":{width:"16px",height:"16px",verticalAlign:"text-bottom"}},unverifiedHTML:d??(0,m.I8)(o)??""}),e.description&&void 0!==e.inlineDescription&&(0,r.jsx)(b.l.Description,{variant:e.inlineDescription?"inline":"block",sx:{fontWeight:400},children:e.description})]})};try{eF.displayName||(eF.displayName="SuggestionItem")}catch{}let eP=({id:e})=>{let{id:t}=(0,y.U2)();e=e??t;let{suggestionsListRef:i,activeSuggestion:l,isFetchingSuggestions:o,position:u,suggestionGroups:d,suggestionsVisible:c}=(0,y.Pt)(),{suspendFocus:p}=(0,y.Ge)(),v=(0,eI.G7)("filter_prefetch_suggestions"),h=(e,t="wave")=>(0,r.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",gap:"8px",padding:"6px 8px",lineHeight:"20px",mx:2},children:[(0,r.jsx)(eS.O,{variant:"elliptical",width:"20px",height:"20px",animationStyle:t}),(0,r.jsx)(eS.O,{variant:"rounded",width:"random",height:"16px",animationStyle:t})]},e),f=(0,n.useMemo)(()=>(0,r.jsx)("div",{children:Array(8).fill(1).map((e,t)=>h(`loading-skeleton-${t}`))}),[]),g=(0,n.useMemo)(()=>h("prefetched-loading-skeleton","pulse"),[]),x=c&&d.some(e=>e.suggestions.length>0)||o,w=(0,n.useMemo)(()=>{let e=-1,t=[];return d.map((i,s)=>{i.suggestions.length>0&&(t.push((0,r.jsxs)(b.l.Group,{children:[i.title&&(0,r.jsx)(b.l.GroupHeading,{...(0,a.G)("suggestions-heading"),"aria-hidden":"true",children:i.title}),i.suggestions.map(t=>(e++,(0,n.createElement)(eF,{...t,suggestionId:e,key:(0,m.W5)("suggestion",t.id,`${(0,m.I8)(t.value)}-${t.displayName}-${t.description}`),active:e===l})))]},(0,m.W5)("group",i.id))),s++<d.length-1&&(d[s++]?.suggestions??[]).length>0&&t.push((0,r.jsx)(b.l.Divider,{},(0,m.W5)("divider",i.id))))}),t},[l,d]);return(0,r.jsx)(s.A,{sx:{top:5,left:0,mt:1,right:0,zIndex:"999",position:"absolute",backgroundColor:"initial"},...(0,a.G)("backdrop-anchor"),children:(0,r.jsx)(s.A,{id:`${e}-suggestions`,ref:i,sx:{bg:"canvas.overlay",borderRadius:"12px",boxShadow:"overlay.shadow",display:"flex",flexDirection:"column",height:"auto",left:["0","0",`${u?u.left:0}px`],maxHeight:"calc(100vh - 2rem)",minWidth:"250px",position:"absolute",overflow:"hidden",visibility:x?"visible":"hidden",whiteSpace:"normal",width:["100%","min-content","min-content"],"@media (prefers-reduced-motion: no-preference)":{transition:"opacity 0.2s ease",opacity:x?1:0}},onMouseDown:e=>p(e.currentTarget),children:(0,r.jsx)(s.A,{sx:{p:0,flexGrow:1,fontSize:(0,eN.Jt)("primer.text.body.size.large")??"14px"},children:(0,r.jsxs)(b.l,{...(0,a.G)("filter-results"),"aria-label":o?"Loading Suggestions":"Suggestions",role:"listbox",id:`${e}-results`,sx:{maxHeight:"20em",overflowX:"hidden",overflowY:"auto",listStyle:"none",minHeight:"48px"},children:[!v&&o?f:d.some(e=>e.suggestions.length>0)&&w,v&&o&&(d.some(e=>e.suggestions.length>0)?g:f)]})})})})};try{eP.displayName||(eP.displayName="SuggestionsList")}catch{}var ej=i(65481);let eE=({id:e,messages:t})=>!t||t.length<1?null:(0,r.jsxs)(ej.A,{id:e,variant:"warning",sx:{py:2,pl:"12px",pr:3,display:"flex",flexDirection:"row",alignItems:"flex-start",justifyContent:"flex-start"},children:[(0,r.jsx)(g.A,{icon:o.AlertIcon,sx:{mt:"2px"}}),(0,r.jsxs)(s.A,{sx:{display:"flex",flexDirection:"column"},children:[(0,r.jsx)(s.A,{sx:{fontWeight:500},...(0,a.G)("validation-error-count"),children:v.D.filterInvalid(t.length)}),(0,r.jsx)(s.A,{as:"ul",sx:{ml:3},...(0,a.G)("validation-error-list"),children:t.map(e=>(0,r.jsx)(eC.oG,{as:"li",unverifiedHTML:e,unverifiedHTMLConfig:{ALLOWED_TAGS:["pre"]},sx:{pre:{display:"inline",color:"attention.fg",p:"2px",fontWeight:500,whiteSpace:"pre-wrap",overflowWrap:"anywhere"}}},e.replaceAll(" ","-")))})]})]});try{eE.displayName||(eE.displayName="ValidationMessage")}catch{}var e$=i(86519);let eA=({sx:e,as:t,onClick:i,href:l})=>(0,r.jsxs)(e$.A,{...(0,a.G)("filter-revert-query"),as:t||"a",href:l,onClick:i,sx:{fontWeight:"semibold",display:"inline-flex",justifyContent:"center",alignItems:"center",...e},children:[(0,r.jsx)(g.A,{icon:o.UndoIcon,sx:{mr:2}}),"Revert filter changes"]});try{eA.displayName||(eA.displayName="FilterRevert")}catch{}let eR=({variant:e,onSubmit:t})=>({display:"grid",gridTemplateColumns:t?"1fr min-content":"min-content 1fr min-content",alignItems:"center",pl:t?"12px":1,pr:"1px",width:"100%",borderStyle:"solid",borderWidth:"1px",borderColor:"border.default",marginInlineEnd:-1,..."input"===e&&{borderTopLeftRadius:2,borderBottomLeftRadius:2},...("input"===e&&!t||"input"!==e&&!t)&&{borderTopRightRadius:2,borderBottomRightRadius:2},":has(input:focus-visible)":{zIndex:1,outline:"2px solid var(--borderColor-accent-emphasis, var(--color-accent-emphasis))",outlineOffset:"-2px"}}),eV=new el.N;function eD({context:e,"data-testid":t,filterButtonVariant:i="normal",filterValue:o,id:u,initialFilterValue:d,inputRef:c,label:p,onChange:v,onParse:y,onSubmit:h,onKeyDown:f,onValidation:m,placeholder:g,providers:x,settings:b,showValidationMessage:w=!0,sx:k,variant:I="full",visuallyHideLabel:S=!0}){let[N,C]=(0,n.useState)([]),T=w&&N.length>0,F=(0,n.useCallback)((e=[],t=eV)=>{C(e),m?.(e,t)},[m]),P=(0,l.tv)({regular:i,narrow:"button"===I?"normal":"compact"},i),j="string"==typeof o,[E,$]=(0,n.useState)(d||""),A=(0,n.useCallback)(e=>{j||$(e),v?.(e)},[j,v]);return(0,r.jsx)(ea.dv,{context:e,inputRef:c,rawFilter:j?o:E,onChange:A,onParse:y,onSubmit:h,onValidation:F,providers:x,settings:{...er.Fy,...b},variant:I,children:(0,r.jsxs)(s.A,{id:u,role:"form",className:"FormControl FormControl--fullWidth",sx:{...k,gap:0},...(0,a.G)(t??"filter"),children:[(0,r.jsx)("label",{id:`${u}-label`,htmlFor:`${u}-input`,className:`FormControl-label ${S?"sr-only":""}`,...(0,a.G)("filter-bar-label"),children:p}),(0,r.jsxs)(s.A,{sx:{display:"grid",gap:3,width:"100%",position:"relative"},children:[(0,r.jsxs)(en,{isStandalone:"button"===I,children:["input"!==I&&(0,r.jsx)(ee,{isStandalone:"button"===I,filterButtonVariant:P}),"button"!==I&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.A,{sx:eR({variant:I,onSubmit:!!h}),children:[!h&&(0,r.jsx)(es,{}),(0,r.jsx)(ew,{id:u,placeholder:g,onKeyDown:f,hasValidationMessage:T}),(0,r.jsx)(ei,{})]}),h&&(0,r.jsx)(ek,{})]})]}),(0,r.jsx)(eP,{id:u}),w&&(0,r.jsx)(eE,{messages:N,id:`${u}-validation-message`})]})]})})}try{eD.displayName||(eD.displayName="Filter")}catch{}},19402:(e,t,i)=>{i.d(t,{xI:()=>j,g0:()=>P});var r=i(74848),a=i(96540),l=i(58735),s=i(46632),n=i(28972),o=i(39168),u=i(55782),d=i(31911),c=i(37932),p=i(70596);function v(e,t,i){if(!t.has(e))throw TypeError("attempted to "+i+" private field on non-instance");return t.get(e)}function y(e,t){var i=v(e,t,"get");return i.get?i.get.call(e):i.value}function h(e,t,i){!function(e,t){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,i)}function f(e,t,i){var r=v(e,t,"set");return!function(e,t,i){if(t.set)t.set.call(e,i);else{if(!t.writable)throw TypeError("attempted to set read only private field");t.value=i}}(e,r,i),i}let m=(0,s.A)((e,t)=>RegExp(`[${e}${t}\\s]$`,"g"),(e,t)=>`${e}_${t}`),g=(0,s.A)(e=>RegExp(`\\s|${e}(?=(?:[^"]*"[^"]*")*[^"]*$)`,"g")),x=(0,s.A)(e=>RegExp(`${e}(?=(?:[^"]*"[^"]*")*[^"]*$)`,"g"));var b=new WeakMap,w=new WeakMap;let FilterQueryParser=class FilterQueryParser{parse(e,t=new l.N("",[],this.config),i=-1){let r;let a=[],s=[],n="";if((e.match(/"/g)??[]).length%2==0)s=e.split(this.SPACE_AND_QUOTES_REGEX);else if(s=e.substring(0,e.lastIndexOf('"')).split(this.SPACE_AND_QUOTES_REGEX),n=e.substring(e.lastIndexOf('"')),s.at(-1)?.match(this.TRAILING_DELIMITER_REGEX)?.length){let e=s.pop()??"";n=e.at(-1)+n,e=e?.replace(this.TRAILING_DELIMITER_REGEX,""),s.push(e)}let o=0,u=0;for(let[e,t]of s.entries()){let l=t.indexOf(this.config.filterDelimiter),n=t.substring(0,l),p=this.filterProviders.find(e=>e.key===n||e.aliases?.some(e=>e===n)||e.options?.filterTypes.exclusive&&`-${e.key}`===n);if(p&&(!1!==p.options.filterTypes.multiKey||a.filter(e=>(0,c.aK)(e)&&e.key.value===p.key).length<1)){let e=this.processFilterBlock(t,p,o,l,u,i);(0,c.dV)(i,o,o+t.length)&&(r=e),a.push(e),u++}else if(""!==t||p&&!p.options.filterTypes.multiKey&&a.filter(e=>(0,c.aK)(e)&&e.key.value===p.key).length>1){let e=this.processTextBlock(t,o,u,i);(0,c.dV)(i,o,o+t.length)&&(r=e),a.push(e),u++}if(o+=t.length,e<s.length-1){o+=1;let e={id:u,type:d._B.Space,raw:" "};a.push(e),(0,c.dV)(i,o,o+t.length)&&(r=e),u++}}if(n.length>0){let e=this.processTextBlock(n,o,u,i);a.push(e)}return e.endsWith(" ")||a.at(-1)?.type!==d._B.Space||a.pop(),new l.N(e,a,this.config,r,t.instanceContext)}replaceActiveBlockWithNoBlock(e){let t;let i=0,r=e.activeBlock;if(!(r&&(0,c.v7)(r)))return[e.raw,e.raw.length];{let a=e.raw.substring(0,r.startIndex),l=e.raw.substring(r.endIndex);return i=(t=`${a}no${this.config.filterDelimiter}${r.key.value}`).length,[t+=l&&!l.startsWith(" ")?` ${l}`:l,i]}}insertSuggestion(e,t,i){let r;let a=0,l=e.activeBlock;if(o.d6.includes(t)){let l=e.raw.substring(0,i),s=e.raw.substring(i);a=(r=`${l}${t.toLocaleUpperCase()} `).length,r+=s&&!s.startsWith(" ")?` ${s}`:s}else if(l&&(0,c.v7)(l)){let s=e.raw.substring(0,l.startIndex),n=e.raw.substring(l.endIndex),o=l.value.raw.substring(0,i-l.value.startIndex);o=o.replace(this.LAST_DELIMITER_REGEX,"$1")+t;let u=l.value.raw.substring(i-l.value.startIndex);this.NEXT_DELIMITER_REGEX.lastIndex=0;let d=this.NEXT_DELIMITER_REGEX.exec(u);u=d?u.substring(d.index):"";let c=l.key.value;t.startsWith("-")&&(c=t,o=""),a=(r=`${s}${c}${this.config.filterDelimiter}${o}${u}`).length-u.length,r+=n&&!n.startsWith(" ")?` ${n}`:n}else if(l&&(0,c.ON)(l)&&i-l.startIndex<=l.raw.indexOf(this.config.filterDelimiter)){let i=e.raw.substring(0,l.startIndex),s=e.raw.substring(l.endIndex),n=l.raw.indexOf(this.config.filterDelimiter),o=l.raw.substring(n+1);r=`${i}${t}${o}${s}`,a=i.length+t.length}else if(i>=0){let l=e.raw.substring(0,i),s=e.raw.substring(i);this.NEXT_DELIMITER_REGEX.lastIndex=0;let n=this.NEXT_DELIMITER_REGEX.exec(s);s=n?s.substring(n.index):"",r=(l=l.replace(this.LAST_DELIMITER_REGEX,"$1")+t)+s,a=l.length}else a=(r=e.raw+t).length;return[r,a]}getRaw(e){let t="";for(let i of e.blocks)i.type===d._B.Space?t+=" ":(0,c.aK)(i)?t+=i.key.value+(i.value.raw?`${e.config.filterDelimiter}${i.value.raw}`:""):t+=i.raw;return t}validateFilterProvider(e){return e.options.support.status===d.b9.Unsupported?[!1,[{type:d.b.FilterProviderUnsupported,message:e.options.support.message??u.D.filterProviderNotSupported(e.key)}]]:e.options.support.status===d.b9.Deprecated?[!1,[{type:d.b.FilterProviderDeprecated,message:e.options.support.message??u.D.filterProviderDeprecated(e.key)}]]:[!0,void 0]}processFilterBlock(e,t,i,r,a,l){let s=e.substring(0,r),n=e.substring(r+1),o=(0,c.zB)(t,s,n)??d.tl.Is,u=i+r+1,p=n.split(this.ITEMS_REGEX);if(o===d.tl.Between){let e=[];p.map(t=>{let i=t.split("..").filter(e=>e);i.length<2&&(t.startsWith("..")?i=["",...i]:i.push("")),e=[...e,...i]}),p=e}let v=p.map(e=>{let t={startIndex:u,endIndex:u+e.length,hasCaret:(0,c.dV)(l,u,u+e.length),value:e,valid:!!y(this,w).has(`${s}${this.config.filterDelimiter}${(0,c.I8)(e)}`)||void 0},i=o===d.tl.Between?2:1;return u=u+e.length+i,t}),h=(0,c.dV)(l??-1,i,i+e.length);return{id:a,type:d._B.Filter,provider:t,operator:o,startIndex:i,endIndex:i+e.length,hasCaret:h,valid:!!y(this,w).has(e)||void 0,key:{startIndex:i,endIndex:i+r,hasCaret:(0,c.dV)(l,i,i+r),value:s},value:{startIndex:i+r+1,endIndex:i+e.length,values:v,raw:n,hasCaret:(0,c.dV)(l,i+r+1,i+e.length)},raw:e}}processTextBlock(e,t,i,r){let a=(0,c.dV)(r??-1,t,t+e.length);return{id:i,type:d._B.Text,startIndex:t,endIndex:t+e.length,hasCaret:a,raw:e}}async validateFilterQuery(e){let t=e.blocks.map(async t=>{if((0,c.v7)(t)){let[i,r]=this.validateFilterProvider(t.provider),a=await t.provider.validateFilterBlockValues?.(e,t,t.value.values,this.config);a.map(e=>{e.valid&&y(this,w).add(`${t.provider.key}${this.config.filterDelimiter}${(0,c.I8)(e.value)}`)});let l=a.every(e=>e.valid)&&i;return l&&y(this,w).add(t.raw),{...t,valid:l,key:{...t.key,valid:i,validations:r},value:{...t.value,values:a}}}return t}),i=await Promise.all(t);return!y(this,b)[e.raw]&&(0,c.Ed)(e)&&(y(this,b)[e.raw]=e),new l.N(e.raw,i,this.config,e.activeBlock,e.instanceContext,!0)}constructor(e=[],t){h(this,b,{writable:!0,value:void 0}),h(this,w,{writable:!0,value:void 0}),this.filterProviders=[],f(this,b,{}),this.filterProviders=e,this.config=t??n.a7,f(this,w,new Set),this.SPACE_AND_QUOTES_REGEX=/\s(?=(?:[^"]*"[^"]*")*[^"]*$)/g,this.TRAILING_DELIMITER_REGEX=m(this.config.filterDelimiter,this.config.valueDelimiter),this.NEXT_DELIMITER_REGEX=g(this.config.valueDelimiter),this.ITEMS_REGEX=x(this.config.valueDelimiter),this.LAST_DELIMITER_REGEX=(0,p.z)(this.config.valueDelimiter)}};var k=i(13124),I=i(93800),S=i(91385),N=i(58183),C=i(37015);let NoFilterProvider=class NoFilterProvider extends C.e{getSuggestions(e,t,i,r){if(!this.shouldGetSuggestions(t))return null;let a=(0,c.DS)(t,r),l=[];if(!a)return this.filterValues.filter(t=>(0,c.Di)(e,this.key,(0,c.M5)(t.value)).length<1);for(let t of this.filterValues){let{value:i,displayName:r}=t,s=(0,c.I8)(i),n=!!s&&(0,S.qA)(a,s),o=!!r&&(0,S.qA)(a,r);!((0,c.Di)(e,this.key,(0,c.M5)(s)).length>0)&&s&&(n||o)&&(t.priority-=(0,I.dt)(a,s),l.push({...t,type:d.ak.Value}))}return l}validateFilterBlockValues(e,t,i){return i.map((r,a)=>{let l=(0,c.I8)(r.value),s=(0,c.Di)(e,this.key,(0,c.M5)(l)).sort((e,t)=>e.id-t.id),n=!!l&&!!this.filterValues.find(e=>(0,c.SH)((0,c.I8)(e.value)??"",l));return s[0]?.id!==void 0&&(t.id!==s[0].id||i.findIndex(e=>e.value===l)<a)&&(n=!1),{...r,valid:n}})}getValueRowProps(e){return{text:e.displayName??(0,c.I8)(e.value)??"",leadingVisual:(0,N.d)({value:e})}}constructor(e,t){super(o._i.no,t),this.options={...n.dQ,...t,filterTypes:{...n.dQ.filterTypes,valueless:!1,...t?.filterTypes}},this.type=d.CH.Select,this.filterValues=e.map(e=>({...e,ariaLabel:`${e.displayName}, ${this.displayName}`}))}};var T=i(10162);let F=(0,a.createContext)(void 0),P=()=>{let e=(0,a.useContext)(F);if(!e)throw Error("useFilterQuery must be used inside a FilterQueryContext");return e},j=({children:e,context:t,customParser:i,filterConfig:s,providers:n,inputRef:o,onChange:u,onParse:p,onSubmit:v,onValidation:y,rawFilter:h})=>{let f=s.groupAndKeywordSupport?k.i:FilterQueryParser,m=(0,a.useRef)(""),g=(0,a.useRef)(i??new f([],s)),[x,b]=(0,a.useState)(new l.N("",[],s)),[w,I]=(0,a.useState)(!0),{inputContextRef:S}=(0,T.U2)();(0,a.useEffect)(()=>{x.staticContext=t},[t,x]);let N=(0,a.useCallback)(()=>{u(""),o.current?.focus()},[o,u]),C=(0,a.useMemo)(()=>{let e={},t=[];if(n.map(i=>{e[i.key]=i,i.options.filterTypes.valueless&&t.push(i)}),t.length){let i=t.sort((e,t)=>(e.displayName??e.key)?.localeCompare(t.displayName??t.key)??0).map(e=>({value:e.key,priority:d.$D,displayName:e.displayName,type:d.ak.Value,icon:e.icon}));e.no=new NoFilterProvider(i)}return g.current.filterProviders=Object.values(e),e},[n]),P=(0,a.useCallback)((e,t=!1)=>{y(e.getErrors(t||document.activeElement!==o.current),new l.N(e.raw,e.blocks,s,e.activeBlock))},[s,o,y]),j=(0,a.useCallback)((e,t,i)=>{new Promise((t,r)=>{let a=g.current.parse(i??h,x,e);(0,c.Ed)(a,m.current)?(b(a),t(a)):r(Error("Query out of sync, Aborted..."))}).then(e=>g.current.validateFilterQuery(e)).then(e=>new Promise((t,i)=>e&&(0,c.Ed)(e)?(I(!1),b(e),t(e)):i(Error(e?"Out of sync":"Empty Query, Aborted...")))).then(e=>{t?.(e)}).catch(()=>{})},[x,h]),E=(0,a.useCallback)((e,t)=>{j(e||(S.current?.caretStart??-1),e=>{P(e),t?.(e)})},[S,j,P]),$=(0,a.useCallback)(async(e,t)=>{let i=t??x;i.clearActiveBlock();let r=0,a=!1;for(;r<=3;){if((0,c.Ed)(i,h)){v?.(i,e),P(i,!0),a=!0;break}r+=1,await (0,c.he)(10)}a||j(S.current?.caretStart??-1,t=>{(0,c.Ed)(t,h)&&(v?.(t,e),P(i,!0))})},[x,S,v,j,P,h]),A=(0,a.useCallback)((e,t=-1,i,r)=>{let a=e??x.raw;u?.(a),r&&(m.current=a,j(t,e=>{(0,c.Ed)(e,m.current)&&(i?.(e),v?.(e,r))},a))},[x.raw,u,v,j]),R=(0,a.useCallback)(()=>{let[e,t]=g.current.replaceActiveBlockWithNoBlock(x);S.current?.updateCaretPosition(t),A(e,t)},[x,S,A]),V=(0,a.useCallback)((e,t,i=!1)=>{let[r,a]=g.current.insertSuggestion(x,e,t);S.current?.updateCaretPosition(a),S.current?.updateRawFilterValue(r),A(r,a,void 0,i?d.FT.SuggestionSelected:void 0)},[x,S,A]),D=(0,a.useCallback)(e=>{h!==m.current&&(m.current=h,j(S.current?.caretStart??-1,t=>{P(t),p?.(t),e(t)}))},[S,p,j,P,h]),B=(0,a.useMemo)(()=>({clearFilter:N,filterQuery:x,filterProviders:C,forceReparse:E,insertIntoQuery:V,isInitialValidation:w,onSubmit:$,rawFilterRef:m,replaceActiveBlockWithNoBlock:R,updateFilter:A,updateFromExternal:D}),[N,C,x,E,V,w,$,R,A,D]);return(0,r.jsx)(F.Provider,{value:B,children:e})};try{F.displayName||(F.displayName="FilterQueryContext")}catch{}try{j.displayName||(j.displayName="FilterQueryContextProvider")}catch{}},34532:(e,t,i)=>{i.d(t,{Ge:()=>p,NH:()=>v});var r=i(74848),a=i(64515),l=i(96540),s=i(31911),n=i(37932),o=i(10162),u=i(19402),d=i(73476);let c=(0,l.createContext)(void 0),p=()=>{let e=(0,l.useContext)(c);if(!e)throw Error("useInput must be used inside a InputContext");return e},v=(0,l.forwardRef)(({caretRef:e=null,children:t,inputRef:i=null,value:p=""},v)=>{let y=(0,l.useRef)(null);(0,a.T)(e,y);let h=(0,l.useRef)(null);(0,a.T)(i,h);let[f,m]=(0,l.useState)(!1),[g,x]=(0,l.useState)(!1),[b,w]=(0,l.useState)(-1),[k,I]=(0,l.useState)(-1),S=(0,l.useRef)(!1),[N,C]=(0,l.useState)(p),T=(0,l.useRef)(0),{hideSuggestions:F,suggestionGroups:P,activeSuggestion:j,setActiveSuggestion:E,suggestionsVisible:$,suggestionSelected:A,updateSuggestions:R}=(0,d.Pt)(),{forceReparse:V,onSubmit:D,rawFilterRef:B,updateFilter:_}=(0,u.g0)(),{config:L}=(0,o.U2)(),O=(0,l.useCallback)((e,t)=>{w(e),I(t??e)},[]);(0,l.useImperativeHandle)(v,()=>({caretStart:b,caretEnd:k,isComposing:S.current,inputHasFocus:g,styledInputBlockCount:T.current,updateCaretPosition:O,updateRawFilterValue:K}));let M=(0,l.useCallback)(e=>{if(S.current)return;let t=(0,n.jh)(P);if("ArrowLeft"===e.key||"ArrowRight"===e.key)F();else if("ArrowDown"===e.key)j+1>=t.length?E(-1):E(j+1),e.preventDefault();else if("ArrowUp"===e.key)j<0?E(t.length-1):E(j-1),e.preventDefault();else if("Enter"===e.key){if($&&null!==j){let i=t[j];i?(e.preventDefault(),A(i),h.current?.focus()):D(s.FT.ExplicitSubmit)}else D(s.FT.ExplicitSubmit)}else"Escape"===e.key?F():("Home"===e.key||"End"===e.key)&&E(-1)},[j,F,D,E,A,P,$]),W=(0,l.useCallback)(()=>{x(!0),f?m(!1):V(-1,async e=>{(0,n.Ed)(e,B?.current)&&await R(e,b)})},[f,V,B,R,b]),q=(0,l.useCallback)(()=>{f||(x(!1),V(-1),F())},[f,V,F]),G=(0,l.useCallback)(()=>{S.current=!0,F()},[F]),U=(0,l.useCallback)(()=>{S.current=!1},[]),H=(0,l.useCallback)(e=>{if(e.currentTarget.value===N)return;C(e.currentTarget.value),e.preventDefault();let t="button"!==L.variant?e.currentTarget.selectionStart??-1:-1,i="button"!==L.variant?e.currentTarget.selectionEnd??-1:-1;_(e.currentTarget.value,t,e=>{R(e,t)}),O(t,i)},[L.variant,_,O,R,N]),K=(0,l.useCallback)(e=>{e!==N&&(C(e),_(e,-1))},[N,_]),Q=(0,l.useCallback)(e=>{T.current=e},[]),z=(0,l.useCallback)(()=>{m(!0)},[]),X=(0,l.useMemo)(()=>({caretRef:y,inputFocused:g,inputKeyDown:M,inputOnBlur:q,inputOnCompositionStart:G,inputOnCompositionEnd:U,inputOnChange:H,inputOnFocus:W,inputRef:h,inputSelectionEnd:k,inputSelectionStart:b,inputValue:N,suspendFocus:z,updateInputSelection:O,updateStyledInputBlockCount:Q}),[g,M,q,G,U,H,W,k,b,N,z,O,Q]);return(0,r.jsx)(c.Provider,{value:X,children:t})});v.displayName="InputContextProvider";try{c.displayName||(c.displayName="InputContext")}catch{}},21468:(e,t,i)=>{i.d(t,{U2:()=>c,dv:()=>p});var r=i(74848),a=i(64515),l=i(96540),s=i(28972),n=i(19402),o=i(34532),u=i(73476);let d=(0,l.createContext)(void 0),c=()=>{let e=(0,l.useContext)(d);if(!e)throw Error("useFilter must be used inside a FilterProvider");return e},p=({children:e,context:t,customParser:i,rawFilter:c,filterDelimiter:p=s.a7.filterDelimiter,inputRef:v=null,onChange:y,onParse:h,onSubmit:f,onValidation:m,providers:g,settings:x,valueDelimiter:b=s.a7.valueDelimiter,variant:w})=>{let k=(0,l.useMemo)(()=>({filterDelimiter:p,valueDelimiter:b,...s.Fy,...x,variant:w}),[p,x,b,w]),I=(0,l.useRef)(null);(0,a.T)(v,I);let S=(0,l.useRef)(null),N=(0,l.useRef)(null),C=(0,l.useId)(),T=(0,l.useMemo)(()=>({config:k,id:C,inputContextRef:N}),[k,C,N]);return(0,l.useEffect)(()=>{N.current?.updateRawFilterValue(c)},[c]),(0,r.jsx)(d.Provider,{value:T,children:(0,r.jsx)(n.xI,{customParser:i,context:t,filterConfig:k,providers:g,inputRef:I,onChange:y,onParse:h,onSubmit:f,onValidation:m,rawFilter:c,children:(0,r.jsx)(u.Yl,{caretRef:S,inputRef:I,children:(0,r.jsx)(o.NH,{caretRef:S,inputRef:I,ref:N,value:c,children:e})})})})};try{d.displayName||(d.displayName="FilterContext")}catch{}try{p.displayName||(p.displayName="FilterContextProvider")}catch{}},73476:(e,t,i)=>{let r;i.d(t,{Rx:()=>w,Yl:()=>k,Pt:()=>b});var a=i(74848),l=i(97564),s=i(51012),n=i(96540),o=i(55782),u=i(80373),d=i(81425),c=i(58748);let p=/:|,|\s(?=(?:[^"]*"[^"]*")*[^"]*$)/g;var v=i(31911),y=i(37932),h=i(7572);let f=(e="")=>{r&&clearTimeout(r),r=setTimeout(()=>{(0,h.i)(e)},150)};var m=i(19402),g=i(21468);let x=(0,n.createContext)(void 0),b=()=>{let e=(0,n.useContext)(x);if(!e)throw Error("useSuggestions must be used inside a SuggestionsContext");return e},w=25,k=({children:e,caretRef:t,inputRef:i})=>{let{config:r,inputContextRef:h}=(0,g.U2)(),{filterQuery:b,filterProviders:k,insertIntoQuery:I,rawFilterRef:S,replaceActiveBlockWithNoBlock:N,updateFilter:C,updateFromExternal:T}=(0,m.g0)(),F=(0,n.useRef)(null),P=(0,n.useRef)(null),{position:j,updatePosition:E}=function(e,t=[]){let i=(0,d.L)(e?.floatingElementRef),r=(0,d.L)(e?.caretElementRef),a=(0,d.L)(e?.inputElementRef),[l,o]=(0,n.useState)(void 0),v=()=>{let e;let t=Array.from(a.current?.closest(".styled-input-container")?.querySelectorAll(".delimiter")??[]),i=a.current?.value;if(!i||!a.current.selectionStart)return null;let r=[...i.slice(0,a.current.selectionStart).matchAll(p)];if(r.length<1)return a.current;for(let i=r.length??0;i>0;i--){let r=t?.[i-1];if(r&&!r?.classList.contains("text-delimiter")){e=r;break}}return e??a.current},y=(0,n.useCallback)(()=>{let t=v()??a.current;i.current instanceof Element&&t instanceof Element?o((0,u.u)(i.current,t,e)):o(void 0)},[i,r,...t]);return(0,s.N)(y,[y]),(0,c.w)(y),{floatingElementRef:i,caretElementRef:r,position:l,updatePosition:y}}({caretElementRef:t,floatingElementRef:P,inputElementRef:i,side:"outside-bottom",align:"start",alignmentOffset:-16,allowOutOfBounds:!1},[P.current,h.current?.styledInputBlockCount]),[$,A]=(0,n.useState)(!1),[R,V]=(0,n.useState)(!1),[D,B]=(0,n.useState)([]),[_,L]=(0,n.useState)(-1),O=(0,n.useCallback)(()=>{R||V(!0)},[R]),M=(0,n.useCallback)(()=>{V(!1),L(-1)},[]),W=(0,l.G7)("filter_prefetch_suggestions"),q=(0,n.useCallback)(async(e,t)=>{let a=!0;if("button"===r.variant||h.current?.isComposing)return;B([]),E();let l=e??b,s=t??i.current?.selectionStart??-1,n={id:"cached-suggestions",suggestions:[]},u=[],d=l.activeBlock,c="";d&&(c=(0,y.v7)(d)?(0,y.cU)(d.value.values,s)??"":d.raw);let p=c&&d&&(0,y.v7)(d)&&d.provider?.isCompleteResultSetQuery?.(c);if(W&&d&&(0,y.v7)(d)){let[e]=(0,y.t4)(d,s);"value"===e&&c&&(n={id:"cached-suggestions",suggestions:d.provider?.findPrefetchedSuggestions?.(c)??[]}).suggestions.length>0&&(O(),f(`${n.suggestions.length} ${1===n.suggestions.length?"suggestion":"suggestions"}`),B([n]))}if(u=[n],n.suggestions.length<w&&(!W||!p)){if(d&&(0,y.v7)(d)&&d.provider?.isCompleteResultSetQuery?.(c)!==void 0&&A(!0),u=await l.getSuggestions(s,k,r),W){u[0]?.suggestions.unshift(...n.suggestions);let e=new Set;u[0]&&(u[0].suggestions=u[0]?.suggestions.filter(t=>{let i=t.value;return!e.has(i)&&e.add(i)})),u=u.slice(0,w)}u[0]&&d?.type===v._B.Text&&d.raw.startsWith("-")&&(u[0].title=o.D.exclude)}if(d&&(0,y.v7)(d)){let e=(0,y.cU)(d.value.values,s);1===u.length&&u[0]?.suggestions[0]?.value===e&&e.length>0&&(a=!1)}(0,y.Ed)(l,S?.current)&&l.isValidated&&(f(`${u.length} ${1===u.length?"suggestion":"suggestions"}`),B(u),0===n.suggestions.length&&L(-1),u.length>0&&a&&h.current?.inputHasFocus?O():M()),A(!1)},[r,b,i,W,k,O,E,S,h,M]),G=(0,n.useCallback)(e=>{let t;L(-1);let a=b.activeBlock,l=e.value.toString().startsWith("-"),s=!1;if(e.value===o.D.dividerValue)return;"keyword"===e.type?t=(0,y.jQ)(e.value):a&&a.type===v._B.Filter?l?t=(0,y.jQ)(e.value):(t=(0,y.jQ)(e.value),s=!0,M()):(t=(0,y.jQ)(e.value),"-"!==e.value&&(t+=r.filterDelimiter));let n=i.current?.selectionStart??-1;e.type===v.ak.NoValue?N():t?I(t,n,s):C()},[r.filterDelimiter,b.activeBlock,M,i,I,N,C]);(0,s.N)(()=>{T(async e=>{(0,y.Ed)(e,S?.current)&&await q(e,i.current?.selectionStart??-1)})},[S,q,b.raw,b,T,i]);let U=(0,n.useMemo)(()=>({activeSuggestion:_,hideSuggestions:M,isFetchingSuggestions:$,position:j,showSuggestions:O,suggestionGroups:D,suggestionsListRef:P,suggestionSelected:G,suggestionsVisible:R,setActiveSuggestion:L,updateSuggestions:q,activeSuggestionRef:F}),[_,F,M,$,j,O,D,G,R,q]);return(0,a.jsx)(x.Provider,{value:U,children:e})};try{x.displayName||(x.displayName="SuggestionsContext")}catch{}try{k.displayName||(k.displayName="SuggestionsContextProvider")}catch{}},58183:(e,t,i)=>{i.d(t,{d:()=>o});var r=i(74848),a=i(22868),l=i(75177),s=i(30729),n=i(37932);let o=({value:e,providerIcon:t,squareIcon:i=!1})=>{if(e.avatar?.url)return(0,r.jsx)(a.r,{src:e.avatar.url,alt:(0,n.I8)(e.value)??"User Avatar",square:i,sx:{minWidth:"20px"}});if(e.iconColor&&!e.icon)return(0,r.jsx)(l.A,{sx:{bg:e.iconColor,borderRadius:9,width:"10px",height:"10px"}});if(e.icon){let t=e.iconColor?`${e.iconColor} !important`:"currentcolor";return(0,r.jsx)(s.A,{icon:e.icon,sx:{fill:t}})}return t?(0,r.jsx)(s.A,{icon:t}):null};try{o.displayName||(o.displayName="ValueIcon")}catch{}}}]);
//# sourceMappingURL=ui_packages_filter_providers_index_ts-ui_packages_filter_Filter_tsx-9e6bcec7d10d.js.map